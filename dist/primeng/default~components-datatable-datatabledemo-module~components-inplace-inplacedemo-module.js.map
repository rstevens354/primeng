{"version":3,"sources":["webpack:///./src/app/components/datatable/datatable.ts"],"names":[],"mappings":"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","file":"default~components-datatable-datatabledemo-module~components-inplace-inplacedemo-module.js","sourcesContent":["import {NgModule, Component, ElementRef, AfterContentInit, AfterViewInit, AfterViewChecked, OnInit, OnDestroy, Input,\r\n  ViewContainerRef, ViewChild, IterableDiffers,\r\n  Output, EventEmitter, ContentChild, ContentChildren, Renderer2, QueryList, TemplateRef,\r\n  ChangeDetectorRef, Inject, forwardRef, EmbeddedViewRef, NgZone\r\n} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms'\r\nimport {SharedModule} from '../common/shared';\r\nimport {PaginatorModule} from '../paginator/paginator';\r\nimport {Column,Header,Footer,HeaderColumnGroup,FooterColumnGroup,PrimeTemplate} from '../common/shared';\r\nimport {LazyLoadEvent} from '../common/lazyloadevent';\r\nimport {FilterMetadata} from '../common/filtermetadata';\r\nimport {SortMeta} from '../common/sortmeta';\r\nimport {DomHandler} from '../dom/domhandler';\r\nimport {ObjectUtils} from '../utils/objectutils';\r\nimport {Subscription} from 'rxjs';\r\nimport {BlockableUI} from '../common/blockableui';\r\n\r\n@Component({\r\n    selector: 'p-dtRadioButton',\r\n    template: `\r\n        <div class=\"ui-radiobutton ui-widget\">\r\n            <div class=\"ui-helper-hidden-accessible\">\r\n                <input type=\"radio\" [checked]=\"checked\">\r\n            </div>\r\n            <div class=\"ui-radiobutton-box ui-widget ui-radiobutton-relative ui-state-default\" (click)=\"handleClick($event)\"\r\n                        [ngClass]=\"{'ui-state-active':checked}\">\r\n                <span class=\"ui-radiobutton-icon ui-clickable\" [ngClass]=\"{'fa fa-circle':checked}\"></span>\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\nexport class DTRadioButton {\r\n    \r\n    @Input() checked: boolean;\r\n\r\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\r\n    \r\n    public hover: boolean;\r\n    \r\n    handleClick(event) {\r\n        this.onClick.emit(event);\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-dtCheckbox',\r\n    template: `\r\n        <div class=\"ui-chkbox ui-widget\">\r\n            <div class=\"ui-helper-hidden-accessible\">\r\n                <input type=\"checkbox\" [checked]=\"checked\">\r\n            </div>\r\n            <div class=\"ui-chkbox-box ui-widget ui-corner-all ui-state-default\" (click)=\"handleClick($event)\"\r\n                        [ngClass]=\"{'ui-state-active':checked&&!disabled,'ui-state-disabled':disabled}\">\r\n                <span class=\"ui-chkbox-icon ui-clickable\" [ngClass]=\"{'fa fa-check':checked}\"></span>\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\nexport class DTCheckbox {\r\n    \r\n    @Input() checked: boolean;\r\n    \r\n    @Input() disabled: boolean;\r\n\r\n    @Output() onChange: EventEmitter<any> = new EventEmitter();\r\n    \r\n    public hover: boolean;\r\n    \r\n    handleClick(event) {\r\n        if(!this.disabled) {\r\n            this.onChange.emit({originalEvent: event, checked: !this.checked});\r\n        }\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: '[pColumnHeaders]',\r\n    template: `\r\n        <ng-template ngFor let-col [ngForOf]=\"columns\" let-lastCol=\"last\">\r\n            <th #headerCell [attr.id]=\"col.colId\" [ngStyle]=\"col.headerStyle||col.style\" [class]=\"col.headerStyleClass||col.styleClass\" (click)=\"dt.sort($event,col)\" [attr.colspan]=\"col.colspan\" [attr.rowspan]=\"col.rowspan\"\r\n                [ngClass]=\"{'ui-state-default ui-unselectable-text':true, 'ui-sortable-column': col.sortable, 'ui-state-active': dt.isSorted(col), 'ui-resizable-column': dt.resizableColumns, 'ui-selection-column':col.selectionMode,\r\n                            'ui-helper-hidden': col.hidden}\"\r\n                (dragstart)=\"dt.onColumnDragStart($event)\" (dragleave)=\"dt.onColumnDragleave($event)\" (drop)=\"dt.onColumnDrop($event)\" (mousedown)=\"dt.onHeaderMousedown($event,headerCell)\"\r\n                [attr.tabindex]=\"col.sortable ? dt.tabindex : null\" (keydown)=\"dt.onHeaderKeydown($event,col)\"\r\n                [attr.scope]=\"col.scope||(col.colspan ? 'colgroup' : 'col')\">\r\n                <span class=\"ui-column-resizer ui-clickable\" *ngIf=\"dt.resizableColumns && col.resizable && ((dt.columnResizeMode == 'fit' && !lastCol) || dt.columnResizeMode == 'expand')\" (mousedown)=\"dt.initColumnResize($event)\"></span>\r\n                <span class=\"ui-column-title\" *ngIf=\"!col.selectionMode&&!col.headerTemplate\">{{col.header}}</span>\r\n                <span class=\"ui-column-title\" *ngIf=\"col.headerTemplate\">\r\n                    <ng-container *ngTemplateOutlet=\"col.headerTemplate; context: {$implicit: col}\"></ng-container>\r\n                </span>\r\n                <span class=\"ui-sortable-column-icon fa fa-fw fa-sort\" *ngIf=\"col.sortable\"\r\n                     [ngClass]=\"{'fa-sort-desc': (dt.getSortOrder(col) == -1),'fa-sort-asc': (dt.getSortOrder(col) == 1)}\"></span>\r\n                <input [attr.type]=\"col.filterType\" class=\"ui-column-filter ui-inputtext ui-widget ui-state-default ui-corner-all\" [attr.maxlength]=\"col.filterMaxlength\" [attr.placeholder]=\"col.filterPlaceholder\" *ngIf=\"col.filter&&!col.filterTemplate\" [value]=\"dt.filters[col.filterField||col.field] ? dt.filters[col.filterField||col.field].value : ''\"\r\n                    (click)=\"dt.onFilterInputClick($event)\" (input)=\"dt.onFilterKeyup($event.target.value, col.filterField||col.field, col.filterMatchMode)\"/>\r\n                <ng-container *ngIf=\"col.filter && col.filterTemplate\">\r\n                    <ng-container *ngTemplateOutlet=\"col.filterTemplate; context: {$implicit: col}\"></ng-container>\r\n                </ng-container>\r\n                <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple' && dt.showHeaderCheckbox === true\" (onChange)=\"dt.toggleRowsWithCheckbox($event)\" [checked]=\"dt.allSelected\" [disabled]=\"dt.isEmpty()\"></p-dtCheckbox>\r\n            </th>\r\n        </ng-template>\r\n    `\r\n})\r\nexport class ColumnHeaders {\r\n    \r\n    constructor(@Inject(forwardRef(() => DataTable)) public dt:DataTable) {}\r\n    \r\n    @Input(\"pColumnHeaders\") columns: Column[];\r\n}\r\n\r\n@Component({\r\n    selector: '[pColumnFooters]',\r\n    template: `\r\n        <td *ngFor=\"let col of columns\" [ngStyle]=\"col.footerStyle||col.style\" [class]=\"col.footerStyleClass||col.styleClass\"\r\n            [attr.colspan]=\"col.colspan\" [attr.rowspan]=\"col.rowspan\"\r\n            [ngClass]=\"{'ui-state-default':true, 'ui-helper-hidden': col.hidden}\">\r\n            <span class=\"ui-column-footer\" *ngIf=\"!col.footerTemplate\">{{col.footer}}</span>\r\n            <span class=\"ui-column-footer\" *ngIf=\"col.footerTemplate\">\r\n                <ng-container *ngTemplateOutlet=\"col.footerTemplate; context: {$implicit: col}\"></ng-container>\r\n            </span>\r\n        </td>\r\n    `\r\n})\r\nexport class ColumnFooters {\r\n    \r\n    constructor(@Inject(forwardRef(() => DataTable)) public dt:DataTable) {}\r\n    \r\n    @Input(\"pColumnFooters\") columns: Column[];\r\n}\r\n\r\n@Component({\r\n    selector: '[pTableBody]',\r\n    template: `\r\n        <ng-template ngFor let-rowData [ngForOf]=\"data\" let-even=\"even\" let-odd=\"odd\" let-rowIndex=\"index\" [ngForTrackBy]=\"dt.rowTrackBy\">\r\n            <tr #rowGroupElement class=\"ui-widget-header ui-rowgroup-header\"\r\n                *ngIf=\"dt.rowGroupMode=='subheader' && (rowIndex === 0||(dt.resolveFieldData(rowData,dt.groupField) !== dt.resolveFieldData(dt.dataToRender[rowIndex - 1], dt.groupField)))\"\r\n                (click)=\"dt.onRowGroupClick($event)\" [ngStyle]=\"{'cursor': dt.sortableRowGroup ? 'pointer' : 'auto'}\">\r\n                <td [attr.colspan]=\"dt.visibleColumns().length\">\r\n                    <a href=\"#\" *ngIf=\"dt.expandableRowGroups\" (click)=\"dt.toggleRowGroup($event,rowData)\">\r\n                        <span class=\"fa fa-fw\" [ngClass]=\"dt.isRowGroupExpanded(rowData) ? dt.expandedIcon : dt.collapsedIcon\"></span>\r\n                    </a>\r\n                    <span class=\"ui-rowgroup-header-name\">\r\n                        <ng-container *ngTemplateOutlet=\"dt.rowGroupHeaderTemplate; context: {$implicit: rowData}\"></ng-container>\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n            <tr #rowElement *ngIf=\"!dt.expandableRowGroups||dt.isRowGroupExpanded(rowData)\"\r\n                    (click)=\"dt.handleRowClick($event, rowData, rowIndex)\" (dblclick)=\"dt.rowDblclick($event,rowData)\" (contextmenu)=\"dt.onRowRightClick($event,rowData)\" (touchend)=\"dt.handleRowTouchEnd($event)\"\r\n                    [ngClass]=\"[even&&dt.rowGroupMode!='rowspan'? 'ui-datatable-even':'',\r\n                                odd&&dt.rowGroupMode!='rowspan'?'ui-datatable-odd':'',\r\n                                dt.isSelected(rowData)? 'ui-state-highlight': '',\r\n                                dt.isRowExpanded(rowData) ? 'ui-expanded-row': '',\r\n                                dt.getRowStyleClass(rowData,rowIndex)]\">\r\n                <ng-template ngFor let-col [ngForOf]=\"columns\" let-colIndex=\"index\">\r\n                    <td #cell *ngIf=\"!dt.rowGroupMode || (dt.rowGroupMode == 'subheader') ||\r\n                        (dt.rowGroupMode=='rowspan' && ((dt.sortField==col.field && dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].index == rowIndex) || (dt.sortField!=col.field)))\"\r\n                        [ngStyle]=\"col.bodyStyle||col.style\" [class]=\"col.bodyStyleClass||col.styleClass\" (click)=\"dt.switchCellToEditMode(cell,col,rowData)\"\r\n                        [ngClass]=\"{'ui-editable-column':col.editable,'ui-selection-column':col.selectionMode, 'ui-helper-hidden': col.hidden}\"\r\n                        [attr.rowspan]=\"(dt.rowGroupMode=='rowspan' && dt.sortField == col.field && dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].index == rowIndex) ? dt.rowGroupMetadata[dt.resolveFieldData(rowData,dt.sortField)].size : null\">\r\n                        <span class=\"ui-column-title\" *ngIf=\"dt.responsive\">{{col.header}}</span>\r\n                        <span class=\"ui-cell-data\" *ngIf=\"!col.bodyTemplate && !col.expander && !col.selectionMode\">{{dt.resolveFieldData(rowData,col.field)}}</span>\r\n                        <span class=\"ui-cell-data\" *ngIf=\"col.bodyTemplate\">\r\n                            <ng-container *ngTemplateOutlet=\"col.bodyTemplate; context: {$implicit: col, rowData: rowData, rowIndex: (rowIndex + dt.first)}\"></ng-container>\r\n                        </span>\r\n                        <div class=\"ui-cell-editor\" *ngIf=\"col.editable\">\r\n                            <input *ngIf=\"!col.editorTemplate\" type=\"text\" [(ngModel)]=\"rowData[col.field]\"\r\n                                (keydown)=\"dt.onCellEditorKeydown($event, col, rowData, rowIndex)\" (blur)=\"dt.onCellEditorBlur($event, col, rowData, rowIndex)\"\r\n                                (input)=\"dt.onCellEditorInput($event, col, rowData, rowIndex)\" (change)=\"dt.onCellEditorChange($event, col, rowData, rowIndex)\"\r\n                                class=\"ui-inputtext ui-widget ui-state-default ui-corner-all\"/>\r\n                            <a *ngIf=\"col.editorTemplate\" class=\"ui-cell-editor-proxy-focus\" href=\"#\" (focus)=\"dt.onCustomEditorFocusPrev($event)\"></a>\r\n                            <ng-container *ngTemplateOutlet=\"col.editorTemplate; context: {$implicit: col, rowData: rowData, rowIndex: rowIndex}\"></ng-container>\r\n                            <a *ngIf=\"col.editorTemplate\" class=\"ui-cell-editor-proxy-focus\" href=\"#\" (focus)=\"dt.onCustomEditorFocusNext($event)\"></a>\r\n                        </div>\r\n                        <a href=\"#\" *ngIf=\"col.expander\" (click)=\"dt.toggleRow(rowData,$event)\">\r\n                            <span class=\"ui-row-toggler fa fa-fw ui-clickable\" [ngClass]=\"dt.isRowExpanded(rowData) ? dt.expandedIcon : dt.collapsedIcon\"></span>\r\n                        </a>\r\n                        <p-dtRadioButton *ngIf=\"col.selectionMode=='single'\" (onClick)=\"dt.selectRowWithRadio($event, rowData)\" [checked]=\"dt.isSelected(rowData)\"></p-dtRadioButton>\r\n                        <p-dtCheckbox *ngIf=\"col.selectionMode=='multiple'\" (onChange)=\"dt.toggleRowWithCheckbox($event,rowData)\" [checked]=\"dt.isSelected(rowData)\"></p-dtCheckbox>\r\n                    </td>\r\n                </ng-template>\r\n            </tr>\r\n            <tr *ngIf=\"dt.expandableRows && dt.isRowExpanded(rowData)\" class=\"ui-expanded-row-content\">\r\n                <td [attr.colspan]=\"dt.visibleColumns().length\">\r\n                    <ng-container *ngTemplateOutlet=\"dt.rowExpansionTemplate; context: {$implicit: rowData, rowIndex: rowIndex}\"></ng-container>\r\n                </td>\r\n            </tr>\r\n            <tr class=\"ui-widget-header ui-rowgroup-footer\" *ngIf=\"dt.rowGroupFooterTemplate && dt.rowGroupMode=='subheader' && ((rowIndex === dt.dataToRender.length - 1)||(dt.resolveFieldData(rowData,dt.groupField) !== dt.resolveFieldData(dt.dataToRender[rowIndex + 1],dt.groupField))) && (!dt.expandableRowGroups || dt.isRowGroupExpanded(rowData))\">\r\n                <ng-container *ngTemplateOutlet=\"dt.rowGroupFooterTemplate; context: {$implicit: rowData}\"></ng-container>\r\n            </tr>\r\n        </ng-template>\r\n\r\n        <tr *ngIf=\"dt.isEmpty()\" class=\"ui-widget-content ui-datatable-emptymessage-row\" [style.visibility]=\"dt.loading ? 'hidden' : 'visible'\">\r\n            <td [attr.colspan]=\"dt.visibleColumns().length\" class=\"ui-datatable-emptymessage\">\r\n                <span *ngIf=\"!dt.emptyMessageTemplate\">{{dt.emptyMessage}}</span>\r\n                <ng-container *ngIf=\"dt.emptyMessageTemplate\">\r\n                    <ng-container *ngTemplateOutlet=\"dt.emptyMessageTemplate\"></ng-container>\r\n                </ng-container>\r\n            </td>\r\n        </tr>\r\n    `\r\n})\r\nexport class TableBody {\r\n    \r\n    constructor(@Inject(forwardRef(() => DataTable)) public dt:DataTable) {}\r\n    \r\n    @Input(\"pTableBody\") columns: Column[];\r\n    \r\n    @Input() data: any[];\r\n    \r\n    visibleColumns() {\r\n        return this.columns ? this.columns.filter(c => !c.hidden): [];\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: '[pScrollableView]',\r\n    template: `\r\n        <div #scrollHeader class=\"ui-widget-header ui-datatable-scrollable-header\" [ngStyle]=\"{'width': width}\">\r\n            <div #scrollHeaderBox  class=\"ui-datatable-scrollable-header-box\">\r\n                <table [ngClass]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\r\n                    <thead class=\"ui-datatable-thead\">\r\n                        <tr *ngIf=\"!headerColumnGroup\" class=\"ui-state-default\" [pColumnHeaders]=\"columns\"></tr>\r\n                        <ng-template [ngIf]=\"headerColumnGroup\">\r\n                            <tr *ngFor=\"let headerRow of headerColumnGroup.rows\" class=\"ui-state-default\" [pColumnHeaders]=\"headerRow.columns\"></tr>\r\n                        </ng-template>\r\n                    </thead>\r\n                    <tbody *ngIf=\"dt.frozenValue\" [ngClass]=\"{'ui-datatable-data ui-widget-content': true, 'ui-datatable-hoverable-rows': (dt.rowHover||dt.selectionMode)}\" [pTableBody]=\"columns\" [data]=\"dt.frozenValue\"></tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div #scrollBody class=\"ui-datatable-scrollable-body\" [ngStyle]=\"{'width': width}\">\r\n            <div #scrollTableWrapper class=\"ui-datatable-scrollable-table-wrapper\" style=\"position:relative\">\r\n                <table #scrollTable [class]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\" [ngClass]=\"{'ui-datatable-virtual-table':virtualScroll}\" style=\"top:0px\">\r\n                    <colgroup class=\"ui-datatable-scrollable-colgroup\">\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"col.headerStyle||col.style\" [ngClass]=\"{'ui-helper-hidden': col.hidden}\"/>\r\n                    </colgroup>\r\n                    <tbody [ngClass]=\"{'ui-datatable-data ui-widget-content': true, 'ui-datatable-hoverable-rows': (dt.rowHover||dt.selectionMode)}\" [pTableBody]=\"columns\" [data]=\"dt.dataToRender\"></tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div #scrollFooter class=\"ui-widget-header ui-datatable-scrollable-footer\" [ngStyle]=\"{'width': width}\" *ngIf=\"dt.hasFooter()\">\r\n            <div #scrollFooterBox  class=\"ui-datatable-scrollable-footer-box\">\r\n                <table [ngClass]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\r\n                    <tfoot class=\"ui-datatable-tfoot\">\r\n                        <tr *ngIf=\"!footerColumnGroup\" [pColumnFooters]=\"columns\" class=\"ui-state-default\"></tr>\r\n                        <ng-template [ngIf]=\"footerColumnGroup\">\r\n                            <tr *ngFor=\"let footerRow of footerColumnGroup.rows\" class=\"ui-state-default\" [pColumnFooters]=\"footerRow.columns\"></tr>\r\n                        </ng-template>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\nexport class ScrollableView implements AfterViewInit,AfterViewChecked,OnDestroy {\r\n    \r\n    constructor(@Inject(forwardRef(() => DataTable)) public dt:DataTable, public el: ElementRef, public renderer: Renderer2, public zone: NgZone) {}\r\n    \r\n    @Input(\"pScrollableView\") columns: Column[];\r\n    \r\n    @Input() headerColumnGroup: HeaderColumnGroup;\r\n    \r\n    @Input() footerColumnGroup: HeaderColumnGroup;\r\n    \r\n    @ViewChild('scrollHeader') scrollHeaderViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollHeaderBox') scrollHeaderBoxViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollBody') scrollBodyViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollTable') scrollTableViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollTableWrapper') scrollTableWrapperViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollFooter') scrollFooterViewChild: ElementRef;\r\n    \r\n    @ViewChild('scrollFooterBox') scrollFooterBoxViewChild: ElementRef;\r\n    \r\n    @Input() frozen: boolean;\r\n    \r\n    @Input() width: string;\r\n    \r\n    @Input() virtualScroll: boolean;\r\n    \r\n    @Output() onVirtualScroll: EventEmitter<any> = new EventEmitter();\r\n    \r\n    public scrollBody: HTMLDivElement;\r\n    \r\n    public scrollHeader: HTMLDivElement;\r\n    \r\n    public scrollHeaderBox: HTMLDivElement;\r\n    \r\n    public scrollTable: HTMLDivElement;\r\n    \r\n    public scrollTableWrapper: HTMLDivElement;\r\n    \r\n    public scrollFooter: HTMLDivElement;\r\n    \r\n    public scrollFooterBox: HTMLDivElement;\r\n    \r\n    public bodyScrollListener: Function;\r\n    \r\n    public headerScrollListener: Function;\r\n    \r\n    public scrollBodyMouseWheelListener: Function;\r\n    \r\n    public scrollFunction: Function;\r\n    \r\n    public rowHeight: number;\r\n    \r\n    public scrollTimeout: any;\r\n    \r\n    ngAfterViewInit() {\r\n        this.initScrolling();\r\n    }\r\n    \r\n    ngAfterViewChecked() {\r\n        if(this.virtualScroll && !this.rowHeight) {\r\n             let row = DomHandler.findSingle(this.scrollTable, 'tr.ui-widget-content:not(.ui-datatable-emptymessage-row)');\r\n             if(row) {\r\n                 this.rowHeight = DomHandler.getOuterHeight(row);\r\n             }\r\n        }\r\n        \r\n        if(!this.frozen) {\r\n            this.zone.runOutsideAngular(() => {\r\n                setTimeout(() => {\r\n                    this.alignScrollBar();\r\n                }, 1);\r\n            });\r\n        }\r\n    }\r\n    \r\n    initScrolling() {\r\n        this.scrollHeader = <HTMLDivElement> this.scrollHeaderViewChild.nativeElement;\r\n        this.scrollHeaderBox = <HTMLDivElement> this.scrollHeaderBoxViewChild.nativeElement;\r\n        this.scrollBody = <HTMLDivElement> this.scrollBodyViewChild.nativeElement;\r\n        this.scrollTable = <HTMLDivElement> this.scrollTableViewChild.nativeElement;\r\n        this.scrollTableWrapper = <HTMLDivElement> this.scrollTableWrapperViewChild.nativeElement;\r\n        this.scrollFooter =  this.scrollFooterViewChild ? <HTMLDivElement> this.scrollFooterViewChild.nativeElement : null;\r\n        this.scrollFooterBox =  this.scrollFooterBoxViewChild ? <HTMLDivElement> this.scrollFooterBoxViewChild.nativeElement : null;\r\n        \r\n        this.setScrollHeight();\r\n        \r\n        if(!this.frozen) {\r\n            this.zone.runOutsideAngular(() => {\r\n                this.scrollHeader.addEventListener('scroll', this.onHeaderScroll.bind(this));\r\n                this.scrollBody.addEventListener('scroll', this.onBodyScroll.bind(this));\r\n            });\r\n        }\r\n\r\n        if(!this.frozen) {\r\n            this.alignScrollBar();\r\n        }\r\n        else {\r\n            this.scrollBody.style.paddingBottom = DomHandler.calculateScrollbarWidth() + 'px';\r\n        }\r\n    }\r\n    \r\n    onBodyScroll(event) {\r\n        let frozenView = this.el.nativeElement.previousElementSibling;\r\n        if(frozenView) {\r\n            var frozenScrollBody = DomHandler.findSingle(frozenView, '.ui-datatable-scrollable-body');\r\n        }\r\n        \r\n        this.scrollHeaderBox.style.marginLeft = -1 * this.scrollBody.scrollLeft + 'px';\r\n        if(this.scrollFooterBox) {\r\n            this.scrollFooterBox.style.marginLeft = -1 * this.scrollBody.scrollLeft + 'px';\r\n        }\r\n        \r\n        if(frozenScrollBody) {\r\n            frozenScrollBody.scrollTop = this.scrollBody.scrollTop;\r\n        }\r\n        \r\n        if(this.virtualScroll) {\r\n            let viewport = DomHandler.getOuterHeight(this.scrollBody);\r\n            let tableHeight = DomHandler.getOuterHeight(this.scrollTable);\r\n            let pageHeight = this.rowHeight * this.dt.rows;\r\n            let virtualTableHeight = DomHandler.getOuterHeight(this.scrollTableWrapper);\r\n            let pageCount = (virtualTableHeight / pageHeight)||1;\r\n\r\n            if(this.scrollBody.scrollTop + viewport > parseFloat(this.scrollTable.style.top) + tableHeight ||this.scrollBody.scrollTop < parseFloat(this.scrollTable.style.top)) {\r\n                let page = Math.floor((this.scrollBody.scrollTop * pageCount) / (this.scrollBody.scrollHeight)) + 1;\r\n                this.onVirtualScroll.emit({\r\n                    page: page,\r\n                    callback: () => {\r\n                        this.scrollTable.style.top = ((page - 1) * pageHeight) + 'px';\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    setScrollHeight() {\r\n        if(this.dt.scrollHeight) {\r\n            if(this.dt.scrollHeight.indexOf('%') !== -1) {\r\n                this.scrollBody.style.visibility = 'hidden';\r\n                this.scrollBody.style.height = '100px';     //temporary height to calculate static height\r\n                let containerHeight = DomHandler.getOuterHeight(this.dt.el.nativeElement.children[0]);\r\n                let relativeHeight = DomHandler.getOuterHeight(this.dt.el.nativeElement.parentElement) * parseInt(this.dt.scrollHeight) / 100;\r\n                let staticHeight = containerHeight - 100;   //total height of headers, footers, paginators\r\n                let scrollBodyHeight = (relativeHeight - staticHeight);\r\n                \r\n                this.scrollBody.style.height = 'auto';\r\n                this.scrollBody.style.maxHeight = scrollBodyHeight + 'px';\r\n                this.scrollBody.style.visibility = 'visible';\r\n            }\r\n            else {\r\n                this.scrollBody.style.maxHeight = this.dt.scrollHeight;\r\n            }\r\n        }\r\n    }\r\n    \r\n    onHeaderScroll(event) {\r\n        this.scrollHeader.scrollLeft = 0;\r\n    }\r\n    \r\n    hasVerticalOverflow() {\r\n        return DomHandler.getOuterHeight(this.scrollTable) > DomHandler.getOuterHeight(this.scrollBody);\r\n    }\r\n    \r\n    alignScrollBar() {\r\n        let scrollBarWidth = this.hasVerticalOverflow() ? DomHandler.calculateScrollbarWidth() : 0;\r\n        this.scrollHeaderBox.style.marginRight = scrollBarWidth + 'px';\r\n        if(this.scrollFooterBox) {\r\n            this.scrollFooterBox.style.marginRight = scrollBarWidth + 'px';\r\n        }\r\n    }\r\n    \r\n    ngOnDestroy() {\r\n        this.scrollHeader.removeEventListener('scroll', this.onHeaderScroll);\r\n        this.scrollBody.removeEventListener('scroll', this.onBodyScroll);\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-dataTable',\r\n    template: `\r\n        <div [ngStyle]=\"style\" [class]=\"styleClass\" [style.width]=\"containerWidth\"\r\n            [ngClass]=\"{'ui-datatable ui-widget':true,'ui-datatable-reflow':responsive,'ui-datatable-stacked':stacked,'ui-datatable-resizable':resizableColumns,'ui-datatable-scrollable':scrollable}\">\r\n            <div class=\"ui-datatable-loading ui-widget-overlay\" *ngIf=\"loading\"></div>\r\n            <div class=\"ui-datatable-loading-content\" *ngIf=\"loading\">\r\n                <i [class]=\"'fa fa-spin fa-2x ' + loadingIcon\"></i>\r\n            </div>\r\n            <div class=\"ui-datatable-header ui-widget-header\" *ngIf=\"header\">\r\n                <ng-content select=\"p-header\"></ng-content>\r\n            </div>\r\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"ui-paginator-top\" [alwaysShow]=\"alwaysShowPaginator\"\r\n                (onPageChange)=\"onPageChange($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && (paginatorPosition === 'top' || paginatorPosition =='both')\"\r\n                [templateLeft]=\"paginatorLeftTemplate\" [templateRight]=\"paginatorRightTemplate\"></p-paginator>\r\n            <div class=\"ui-datatable-tablewrapper\" *ngIf=\"!scrollable\">\r\n                <table [ngClass]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\r\n                    <thead class=\"ui-datatable-thead\">\r\n                        <tr *ngIf=\"!headerColumnGroups || !headerColumnGroups.first\" class=\"ui-state-default\" [pColumnHeaders]=\"columns\"></tr>\r\n                        <ng-template [ngIf]=\"headerColumnGroups && headerColumnGroups.first\">\r\n                            <tr *ngFor=\"let headerRow of headerColumnGroups.first.rows\" class=\"ui-state-default\" [pColumnHeaders]=\"headerRow.columns\"></tr>\r\n                        </ng-template>\r\n                    </thead>\r\n                    <tfoot *ngIf=\"hasFooter()\" class=\"ui-datatable-tfoot\">\r\n                        <tr *ngIf=\"!footerColumnGroups.first\" class=\"ui-state-default\" [pColumnFooters]=\"columns\"></tr>\r\n                        <ng-template [ngIf]=\"footerColumnGroups.first\">\r\n                            <tr *ngFor=\"let footerRow of footerColumnGroups.first.rows\" class=\"ui-state-default\" [pColumnFooters]=\"footerRow.columns\"></tr>\r\n                        </ng-template>\r\n                    </tfoot>\r\n                    <tbody [ngClass]=\"{'ui-datatable-data ui-widget-content': true, 'ui-datatable-hoverable-rows': (rowHover||selectionMode)}\" [pTableBody]=\"columns\" [data]=\"dataToRender\"></tbody>\r\n                </table>\r\n            </div>\r\n            \r\n            <ng-template [ngIf]=\"scrollable\">\r\n                <div class=\"ui-datatable-scrollable-wrapper ui-helper-clearfix\">\r\n                    <div *ngIf=\"hasFrozenColumns()\" [pScrollableView]=\"frozenColumns\" frozen=\"true\"\r\n                        [headerColumnGroup]=\"frozenHeaderColumnGroup\" [footerColumnGroup]=\"frozenFooterColumnGroup\"\r\n                        [ngStyle]=\"{'width':this.frozenWidth}\" class=\"ui-datatable-scrollable-view ui-datatable-frozen-view\"></div>\r\n                    <div [pScrollableView]=\"scrollableColumns\" [ngStyle]=\"{'width':this.unfrozenWidth, 'left': this.frozenWidth}\"\r\n                        [headerColumnGroup]=\"scrollableHeaderColumnGroup\" [footerColumnGroup]=\"scrollableFooterColumnGroup\"\r\n                        class=\"ui-datatable-scrollable-view\" [virtualScroll]=\"virtualScroll\" (onVirtualScroll)=\"onVirtualScroll($event)\"\r\n                        [ngClass]=\"{'ui-datatable-unfrozen-view': hasFrozenColumns()}\"></div>\r\n                </div>\r\n            </ng-template>\r\n            \r\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"ui-paginator-bottom\" [alwaysShow]=\"alwaysShowPaginator\"\r\n                (onPageChange)=\"onPageChange($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && (paginatorPosition === 'bottom' || paginatorPosition =='both')\"\r\n                [templateLeft]=\"paginatorLeftTemplate\" [templateRight]=\"paginatorRightTemplate\"></p-paginator>\r\n            <div class=\"ui-datatable-footer ui-widget-header\" *ngIf=\"footer\">\r\n                <ng-content select=\"p-footer\"></ng-content>\r\n            </div>\r\n            \r\n            <div class=\"ui-column-resizer-helper ui-state-highlight\" style=\"display:none\"></div>\r\n            <span class=\"fa fa-arrow-down ui-datatable-reorder-indicator-up\" style=\"position: absolute; display: none;\"></span>\r\n            <span class=\"fa fa-arrow-up ui-datatable-reorder-indicator-down\" style=\"position: absolute; display: none;\"></span>\r\n        </div>\r\n    `\r\n})\r\nexport class DataTable implements AfterViewChecked,AfterViewInit,AfterContentInit,OnInit,OnDestroy,BlockableUI {\r\n\r\n    @Input() paginator: boolean;\r\n\r\n    @Input() rows: number;\r\n\r\n    @Input() pageLinks: number = 5;\r\n\r\n    @Input() rowsPerPageOptions: number[];\r\n\r\n    @Input() responsive: boolean;\r\n    \r\n    @Input() stacked: boolean;\r\n\r\n    @Input() selectionMode: string;\r\n\r\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() editable: boolean;\r\n    \r\n    @Input() showHeaderCheckbox: boolean = true;\r\n    \r\n    @Output() onRowClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onRowSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onRowUnselect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onRowDblclick: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onHeaderCheckboxToggle: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Input() headerCheckboxToggleAllPages: boolean;\r\n    \r\n    @Output() onContextMenuSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() filterDelay: number = 300;\r\n\r\n    @Input() lazy: boolean;\r\n\r\n    @Output() onLazyLoad: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() resizableColumns: boolean;\r\n\r\n    @Input() columnResizeMode: string = 'fit';\r\n\r\n    @Output() onColResize: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() reorderableColumns: boolean;\r\n\r\n    @Output() onColReorder: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() scrollable: boolean;\r\n    \r\n    @Input() virtualScroll: boolean;\r\n\r\n    @Input() scrollHeight: any;\r\n\r\n    @Input() scrollWidth: any;\r\n    \r\n    @Input() frozenWidth: any;\r\n    \r\n    @Input() unfrozenWidth: any;\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n    \r\n    @Input() tableStyle: any;\r\n\r\n    @Input() tableStyleClass: string;\r\n\r\n    @Input() globalFilter: any;\r\n\r\n    @Input() sortMode: string = 'single';\r\n    \r\n    @Input() defaultSortOrder: number = 1;\r\n    \r\n    @Input() groupField: string;\r\n    \r\n    @Input() contextMenu: any;\r\n    \r\n    @Input() csvSeparator: string = ',';\r\n    \r\n    @Input() exportFilename: string = 'download';\r\n    \r\n    @Input() emptyMessage: string = 'No records found';\r\n    \r\n    @Input() paginatorPosition: string = 'bottom';\r\n    \r\n    @Input() alwaysShowPaginator: boolean = true;\r\n    \r\n    @Input() metaKeySelection: boolean = true;\r\n    \r\n    @Input() rowTrackBy: Function = (index: number, item: any) => item;\r\n    \r\n    @Input() immutable: boolean = true;\r\n    \r\n    @Input() frozenValue: any[];\r\n    \r\n    @Input() compareSelectionBy: string = 'deepEquals';\r\n    \r\n    @Output() onEditInit: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onEditComplete: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onEdit: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onEditCancel: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onPage: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onSort: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onFilter: EventEmitter<any> = new EventEmitter();\r\n\r\n    @ContentChild(Header) header;\r\n\r\n    @ContentChild(Footer) footer;\r\n    \r\n    @Input() expandableRows: boolean;\r\n    \r\n    @Input() expandedRows: any[];\r\n    \r\n    @Input() expandableRowGroups: boolean;\r\n    \r\n    @Input() rowExpandMode: string = 'multiple';\r\n    \r\n    @Input() public expandedRowsGroups: any[];\r\n    \r\n    @Input() expandedIcon: string = 'fa-chevron-circle-down';\r\n\r\n    @Input() collapsedIcon: string = 'fa-chevron-circle-right';\r\n    \r\n    @Input() tabindex: number = 1;\r\n    \r\n    @Input() rowStyleClass: Function;\r\n\r\n    @Input() rowStyleMap: Object;\r\n\r\n    @Input() rowGroupMode: string;\r\n    \r\n    @Input() sortableRowGroup: boolean = true;\r\n    \r\n    @Input() sortFile: string;\r\n\r\n    @Input() rowHover: boolean;\r\n    \r\n    @Input() public filters: {[s: string]: FilterMetadata;} = {};\r\n    \r\n    @Input() dataKey: string;\r\n    \r\n    @Input() loading: boolean;\r\n\r\n    @Input() loadingIcon: string = 'fa-circle-o-notch';\r\n    \r\n    @Input() virtualScrollDelay: number = 500;\r\n  \r\n    @Input() rowGroupExpandMode: string = 'multiple';\r\n    \r\n    @Output() valueChange: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n    \r\n    @Output() firstChange: EventEmitter<number> = new EventEmitter<number>();\r\n    \r\n    @Output() onRowExpand: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onRowCollapse: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onRowGroupExpand: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output() onRowGroupCollapse: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @ContentChildren(PrimeTemplate) templates: QueryList<PrimeTemplate>;\r\n    \r\n    @ContentChildren(Column) cols: QueryList<Column>;\r\n    \r\n    @ContentChildren(HeaderColumnGroup) headerColumnGroups: QueryList<HeaderColumnGroup>;\r\n    \r\n    @ContentChildren(FooterColumnGroup) footerColumnGroups: QueryList<FooterColumnGroup>;\r\n    \r\n    public _value: any[];\r\n    \r\n    public dataToRender: any[];\r\n\r\n    public page: number = 0;\r\n\r\n    public filterTimeout: any;\r\n\r\n    public filteredValue: any[];\r\n\r\n    public columns: Column[];\r\n    \r\n    public frozenColumns: Column[];\r\n    \r\n    public scrollableColumns: Column[];\r\n    \r\n    public frozenHeaderColumnGroup: HeaderColumnGroup;\r\n    \r\n    public scrollableHeaderColumnGroup: HeaderColumnGroup;\r\n    \r\n    public frozenFooterColumnGroup: HeaderColumnGroup;\r\n    \r\n    public scrollableFooterColumnGroup: HeaderColumnGroup;\r\n\r\n    public columnsChanged: boolean = false;\r\n    \r\n    public sortColumn: Column;\r\n    \r\n    public columnResizing: boolean;\r\n    \r\n    public lastResizerHelperX: number;\r\n    \r\n    public documentEditListener: Function;\r\n    \r\n    public documentColumnResizeEndListener: Function;\r\n    \r\n    public resizerHelper: any;\r\n    \r\n    public resizeColumn: any;\r\n    \r\n    public reorderIndicatorUp: any;\r\n    \r\n    public reorderIndicatorDown: any;\r\n    \r\n    public iconWidth: number;\r\n    \r\n    public iconHeight: number;\r\n    \r\n    public draggedColumn: any;\r\n    \r\n    public dropPosition: number;\r\n    \r\n    public tbody: any;\r\n    \r\n    public rowTouched: boolean;\r\n    \r\n    public rowGroupToggleClick: boolean;\r\n    \r\n    public editingCell: any;\r\n    \r\n    public virtualTableHeight: number;\r\n    \r\n    public rowGroupMetadata: any;\r\n    \r\n    public rowGroupHeaderTemplate: TemplateRef<any>;\r\n    \r\n    public rowGroupFooterTemplate: TemplateRef<any>;\r\n    \r\n    public rowExpansionTemplate: TemplateRef<any>;\r\n    \r\n    public emptyMessageTemplate: TemplateRef<any>;\r\n    \r\n    public paginatorLeftTemplate: TemplateRef<any>;\r\n    \r\n    public paginatorRightTemplate: TemplateRef<any>;\r\n    \r\n    public scrollBarWidth: number;\r\n    \r\n    public editorClick: boolean;\r\n    \r\n    public _first: number = 0;\r\n    \r\n    public selectionKeys: any;\r\n    \r\n    public preventSelectionKeysPropagation: boolean;\r\n    \r\n    public preventSortPropagation: boolean;\r\n    \r\n    public preventRowClickPropagation: boolean;\r\n  \r\n    _multiSortMeta: SortMeta[];\r\n    \r\n    _sortField: string;\r\n    \r\n    _sortOrder: number = 1;\r\n    \r\n    differ: any;\r\n    \r\n    _selection: any;\r\n    \r\n    _totalRecords: number;\r\n    \r\n    globalFilterFunction: any;\r\n    \r\n    columnsSubscription: Subscription;\r\n    \r\n    totalRecordsChanged: boolean;\r\n    \r\n    anchorRowIndex: number;\r\n    \r\n    rangeRowIndex: number;\r\n    \r\n    initialized: boolean;\r\n    \r\n    virtualScrollTimer: any;\r\n    \r\n    virtualScrollableTableWrapper: HTMLDivElement;\r\n    \r\n    virtualScrollCallback: Function;\r\n    \r\n    editChanged: boolean;\r\n    \r\n    constructor(public el: ElementRef, public differs: IterableDiffers,\r\n            public renderer: Renderer2, public changeDetector: ChangeDetectorRef,\r\n            public zone: NgZone) {\r\n    \tthis.differ = differs.find([]).create(null);\r\n    }\r\n\r\n    ngOnInit() {\r\n        if(this.lazy) {\r\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n        }\r\n    }\r\n    \r\n    ngAfterContentInit() {\r\n        this.initColumns();\r\n        this.initColumnGroups();\r\n        \r\n        this.columnsSubscription = this.cols.changes.subscribe(_ => {\r\n            this.initColumns();\r\n            this.changeDetector.markForCheck();\r\n        });\r\n        \r\n        this.templates.forEach((item) => {\r\n            switch(item.getType()) {\r\n                case 'rowexpansion':\r\n                    this.rowExpansionTemplate = item.template;\r\n                break;\r\n                \r\n                case 'rowgroupheader':\r\n                    this.rowGroupHeaderTemplate = item.template;\r\n                break;\r\n                \r\n                case 'rowgroupfooter':\r\n                    this.rowGroupFooterTemplate = item.template;\r\n                break;\r\n                \r\n                case 'emptymessage':\r\n                    this.emptyMessageTemplate = item.template;\r\n                break;\r\n                \r\n                case 'paginatorLeft':\r\n                    this.paginatorLeftTemplate = item.template;\r\n                break;\r\n                \r\n                case 'paginatorRight':\r\n                    this.paginatorRightTemplate = item.template;\r\n                break;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if(this.columnsChanged && this.el.nativeElement.offsetParent) {\r\n            if(this.resizableColumns) {\r\n                this.initResizableColumns();\r\n            }\r\n\r\n            if(this.reorderableColumns) {\r\n                this.initColumnReordering();\r\n            }\r\n\r\n            this.columnsChanged = false;\r\n        }\r\n        \r\n        if(this.totalRecordsChanged && this.virtualScroll && this.virtualScrollableTableWrapper && this.virtualScrollableTableWrapper.offsetParent) {\r\n            let row = DomHandler.findSingle(this.virtualScrollableTableWrapper,'tr.ui-widget-content');\r\n            let rowHeight = DomHandler.getOuterHeight(row);\r\n            this.virtualTableHeight = this._totalRecords * rowHeight;\r\n            this.virtualScrollableTableWrapper.style.height = this.virtualTableHeight + 'px';\r\n            this.totalRecordsChanged = false;\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if(this.globalFilter) {\r\n            this.globalFilterFunction = this.renderer.listen(this.globalFilter, 'keyup', () => {\r\n                if (this.filterTimeout) {\r\n                    clearTimeout(this.filterTimeout);\r\n                }\r\n                this.filterTimeout = setTimeout(() => {\r\n                    this._filter();\r\n                    this.filterTimeout = null;\r\n                }, this.filterDelay);\r\n            });\r\n        }\r\n\r\n        this.virtualScrollableTableWrapper = DomHandler.findSingle(this.el.nativeElement, 'div.ui-datatable-scrollable-table-wrapper');\r\n\r\n        this.initialized = true;\r\n    }\r\n    \r\n    @Input() get multiSortMeta(): SortMeta[]{\r\n        return this._multiSortMeta;\r\n    }\r\n  \r\n    set multiSortMeta(val: SortMeta[]){\r\n        this._multiSortMeta = val;\r\n        if(this.sortMode === 'multiple') {\r\n            this.sortMultiple();\r\n        }\r\n    }\r\n\r\n    @Input() get sortField(): string{\r\n        return this._sortField;\r\n    }\r\n\r\n    set sortField(val: string){\r\n        this._sortField = val;\r\n        if(this.sortMode === 'single') {\r\n            this.sortSingle();\r\n        }\r\n    }\r\n\r\n    @Input() get sortOrder(): number {\r\n      return this._sortOrder;\r\n    }\r\n    set sortOrder(val: number) {\r\n        this._sortOrder = val;\r\n        if(this.sortMode === 'single') {\r\n            this.sortSingle();\r\n        }\r\n    }\r\n    \r\n    @Input() get value(): any[] {\r\n        return this._value;\r\n    }\r\n    set value(val:any[]) {\r\n        if(this.immutable) {\r\n            this._value = val ? [...val] : null;\r\n            this.handleDataChange();\r\n        }\r\n        else {\r\n            this._value = val;\r\n        }\r\n        \r\n        this.valueChange.emit(this.value);\r\n    }\r\n    \r\n    @Input() get first(): number {\r\n        return this._first;\r\n    }\r\n\r\n    set first(val:number) {\r\n        let shouldPaginate = this.initialized && this._first !== val;\r\n        \r\n        this._first = val;\r\n        \r\n        if(shouldPaginate) {\r\n            this.paginate();\r\n        }\r\n    }\r\n    \r\n    @Input() get totalRecords(): number {\r\n        return this._totalRecords;\r\n    }\r\n\r\n    set totalRecords(val:number) {\r\n        this._totalRecords = val;\r\n        this.totalRecordsChanged = true;\r\n    }\r\n    \r\n    @Input() get selection(): any {\r\n        return this._selection;\r\n    }\r\n\r\n    set selection(val: any) {\r\n        this._selection = val;\r\n\r\n        if(this.dataKey && !this.preventSelectionKeysPropagation) {\r\n            this.selectionKeys = {};\r\n            if(this._selection) {\r\n                if(Array.isArray(this._selection)) {\r\n                    for(let data of this._selection) {\r\n                        this.selectionKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\r\n                    }\r\n                }\r\n                else {\r\n                    this.selectionKeys[String(ObjectUtils.resolveFieldData(this._selection, this.dataKey))] = 1;\r\n                }\r\n            }\r\n        }\r\n        this.preventSelectionKeysPropagation = false;\r\n    }\r\n    \r\n    ngDoCheck() {\r\n        if(!this.immutable) {\r\n            let changes = this.differ.diff(this.value);\r\n            if(changes) {\r\n                this.handleDataChange();\r\n            }\r\n        }\r\n    }\r\n    \r\n    handleDataChange() {\r\n        if(this.paginator) {\r\n            this.updatePaginator();\r\n        }\r\n        \r\n        if(this.virtualScroll && this.virtualScrollCallback) {\r\n            this.virtualScrollCallback();\r\n        }\r\n        \r\n        if(!this.lazy) {\r\n            if(this.hasFilter()) {\r\n                this._filter();\r\n            }\r\n            \r\n            if(this.preventSortPropagation) {\r\n                this.preventSortPropagation = false;\r\n            }\r\n            else if(this.sortField||this.multiSortMeta) {\r\n                if(!this.sortColumn && this.columns) {\r\n                    this.sortColumn = this.columns.find(col => col.field === this.sortField && col.sortable === 'custom');\r\n                }\r\n                \r\n                if(this.sortMode == 'single')\r\n                    this.sortSingle();\r\n                else if(this.sortMode == 'multiple')\r\n                    this.sortMultiple();\r\n            }\r\n        }\r\n\r\n        this.updateDataToRender(this.filteredValue||this.value);\r\n    }\r\n    \r\n    initColumns(): void {\r\n        this.columns = this.cols.toArray();\r\n        this.initScrollableColumns();\r\n        \r\n        this.columnsChanged = true;\r\n    }\r\n    \r\n    initScrollableColumns() {\r\n        this.scrollableColumns = [];\r\n        this.frozenColumns = [];\r\n        \r\n        for(let col of this.columns) {\r\n            if(col.frozen)\r\n                this.frozenColumns.push(col);\r\n            else\r\n                this.scrollableColumns.push(col);\r\n        }\r\n    }\r\n    \r\n    initColumnGroups(): void {\r\n        let headerColumnsGroups = this.headerColumnGroups.toArray();\r\n        let footerColumnsGroups = this.footerColumnGroups.toArray();\r\n        \r\n        for(let columnGroup of headerColumnsGroups) {\r\n            if(columnGroup.frozen)\r\n                this.frozenHeaderColumnGroup = columnGroup;\r\n            else\r\n                this.scrollableHeaderColumnGroup = columnGroup;\r\n        }\r\n        \r\n        for(let columnGroup of footerColumnsGroups) {\r\n            if(columnGroup.frozen)\r\n                this.frozenFooterColumnGroup = columnGroup;\r\n            else\r\n                this.scrollableFooterColumnGroup = columnGroup;\r\n        }\r\n    }\r\n\r\n    resolveFieldData(data: any, field: string): any {\r\n        return ObjectUtils.resolveFieldData(data, field);\r\n    }\r\n    \r\n    updateRowGroupMetadata() {\r\n        this.rowGroupMetadata = {};\r\n        if(this.dataToRender) {\r\n            for(let i = 0; i < this.dataToRender.length; i++) {\r\n                let rowData = this.dataToRender[i];\r\n                let group = this.resolveFieldData(rowData, this.sortField);\r\n                if(i == 0) {\r\n                    this.rowGroupMetadata[group] = {index:0, size: 1};\r\n                }\r\n                else {\r\n                    let previousRowData = this.dataToRender[i-1];\r\n                    let previousRowGroup = this.resolveFieldData(previousRowData, this.sortField);\r\n                    if(group === previousRowGroup) {\r\n                        this.rowGroupMetadata[group].size++;\r\n                    }\r\n                    else {\r\n                        this.rowGroupMetadata[group] = {index:i, size: 1};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    updatePaginator() {\r\n        //total records\r\n        this.updateTotalRecords();\r\n\r\n        //first\r\n        if(this.totalRecords && this.first >= this.totalRecords) {\r\n            let numberOfPages = Math.ceil(this.totalRecords/this.rows);\r\n            this._first = Math.max((numberOfPages-1) * this.rows, 0);\r\n        }\r\n    }\r\n    \r\n    updateTotalRecords() {\r\n        this.totalRecords = this.lazy ? this.totalRecords : (this.value ? this.value.length: 0);\r\n    }\r\n\r\n    onPageChange(event) {\r\n        this._first = event.first;\r\n        this.firstChange.emit(this.first);\r\n        this.rows = event.rows;\r\n        this.paginate();\r\n    }\r\n    \r\n    paginate() {\r\n        if(this.lazy)\r\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n        else\r\n            this.updateDataToRender(this.filteredValue||this.value);\r\n        \r\n        this.onPage.emit({\r\n            first: this.first,\r\n            rows: this.rows\r\n        });\r\n    }\r\n\r\n    updateDataToRender(datasource) {\r\n        if((this.paginator || this.virtualScroll) && datasource) {\r\n            this.dataToRender = [];\r\n            let startIndex: number = this.lazy ? 0 : this.first;\r\n            let endIndex: number = this.virtualScroll ? this.first + this.rows * 2 : startIndex + this.rows;\r\n\r\n            for(let i = startIndex; i < endIndex; i++) {\r\n                if(i >= datasource.length) {\r\n                    break;\r\n                }\r\n\r\n                this.dataToRender.push(datasource[i]);\r\n            }\r\n        }\r\n        else {\r\n            this.dataToRender = datasource;\r\n        }\r\n        \r\n        if(this.rowGroupMode) {\r\n            this.updateRowGroupMetadata();\r\n        }\r\n\r\n        this.changeDetector.markForCheck();\r\n    }\r\n    \r\n    onVirtualScroll(event) {\r\n        this._first = (event.page - 1) * this.rows;\r\n        this.virtualScrollCallback = event.callback;\r\n        \r\n        this.zone.run(() => {\r\n            if(this.virtualScrollTimer) {\r\n                clearTimeout(this.virtualScrollTimer);\r\n            }\r\n            \r\n            this.virtualScrollTimer = setTimeout(() => {\r\n                if(this.lazy)\r\n                    this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n                else\r\n                    this.updateDataToRender(this.filteredValue||this.value);\r\n            }, this.virtualScrollDelay);\r\n        });\r\n    }\r\n    \r\n    onHeaderKeydown(event, column: Column) {\r\n        if(event.keyCode == 13) {\r\n            this.sort(event, column);\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    \r\n    onHeaderMousedown(event, header: any) {\r\n        if(this.reorderableColumns) {\r\n            if(event.target.nodeName !== 'INPUT') {\r\n                header.draggable = true;\r\n            } else if(event.target.nodeName === 'INPUT') {\r\n                header.draggable = false;\r\n            }\r\n        }\r\n    }\r\n    \r\n    sort(event, column: Column) {\r\n        if(!column.sortable) {\r\n            return;\r\n        }\r\n        let targetNode = event.target;\r\n        if(DomHandler.hasClass(targetNode, 'ui-sortable-column') ||DomHandler.hasClass(targetNode, 'ui-column-title') ||DomHandler.hasClass(targetNode, 'ui-sortable-column-icon')) {\r\n            if(!this.immutable) {\r\n                this.preventSortPropagation = true;\r\n            }\r\n            \r\n            let columnSortField = column.sortField||column.field;\r\n            this._sortOrder = (this.sortField === columnSortField)  ? this.sortOrder * -1 : this.defaultSortOrder;\r\n            this._sortField = columnSortField;\r\n            this.sortColumn = column;\r\n            let metaKey = event.metaKey||event.ctrlKey;\r\n\r\n            if(this.sortMode == 'multiple') {\r\n                if(!this.multiSortMeta||!metaKey) {\r\n                    this._multiSortMeta = [];\r\n                }\r\n\r\n                this.addSortMeta({field: this.sortField, order: this.sortOrder});\r\n            }\r\n\r\n            if(this.lazy) {\r\n                this._first = 0;\r\n                this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n            }\r\n            else {\r\n                if(this.sortMode == 'multiple')\r\n                    this.sortMultiple();\r\n                else\r\n                    this.sortSingle();\r\n            }\r\n            \r\n            this.onSort.emit({\r\n                field: this.sortField,\r\n                order: this.sortOrder,\r\n                multisortmeta: this.multiSortMeta\r\n            });\r\n        }\r\n        \r\n        this.updateDataToRender(this.filteredValue||this.value);\r\n    }\r\n\r\n    sortSingle() {\r\n        if(this.value) {\r\n            if(this.sortColumn && this.sortColumn.sortable === 'custom') {\r\n                this.preventSortPropagation = true;\r\n                this.sortColumn.sortFunction.emit({\r\n                    field: this.sortField,\r\n                    order: this.sortOrder\r\n                });\r\n            }\r\n            else {\r\n                this.value.sort((data1, data2) => {\r\n                    let value1 = this.resolveFieldData(data1, this.sortField);\r\n                    let value2 = this.resolveFieldData(data2, this.sortField);\r\n                    let result = null;\r\n\r\n                    if (value1 == null && value2 != null)\r\n                        result = -1;\r\n                    else if (value1 != null && value2 == null)\r\n                        result = 1;\r\n                    else if (value1 == null && value2 == null)\r\n                        result = 0;\r\n                    else if (typeof value1 === 'string' && typeof value2 === 'string')\r\n                        result = value1.localeCompare(value2);\r\n                    else\r\n                        result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\r\n\r\n                    return (this.sortOrder * result);\r\n                });\r\n            }\r\n            \r\n            this._first = 0;\r\n\r\n            if(this.hasFilter()) {\r\n                this._filter();\r\n            }\r\n        }\r\n    }\r\n\r\n    sortMultiple() {\r\n        if(this.value) {\r\n            this.value.sort((data1,data2) => {\r\n                return this.multisortField(data1, data2, this.multiSortMeta, 0);\r\n            });\r\n\r\n            if(this.hasFilter()) {\r\n                this._filter();\r\n            }\r\n        }\r\n    }\r\n\r\n    multisortField(data1,data2,multiSortMeta,index) {\r\n        let value1 = this.resolveFieldData(data1, multiSortMeta[index].field);\r\n        let value2 = this.resolveFieldData(data2, multiSortMeta[index].field);\r\n        let result = null;\r\n\r\n        if (typeof value1 == 'string' || value1 instanceof String) {\r\n            if (value1.localeCompare && (value1 != value2)) {\r\n                return (multiSortMeta[index].order * value1.localeCompare(value2));\r\n            }\r\n        }\r\n        else {\r\n            result = (value1 < value2) ? -1 : 1;\r\n        }\r\n\r\n        if(value1 == value2)  {\r\n            return (multiSortMeta.length - 1) > (index) ? (this.multisortField(data1, data2, multiSortMeta, index + 1)) : 0;\r\n        }\r\n\r\n        return (multiSortMeta[index].order * result);\r\n    }\r\n\r\n    addSortMeta(meta) {\r\n        var index = -1;\r\n        for(var i = 0; i < this.multiSortMeta.length; i++) {\r\n            if(this.multiSortMeta[i].field === meta.field) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(index >= 0)\r\n            this.multiSortMeta[index] = meta;\r\n        else\r\n            this.multiSortMeta.push(meta);\r\n    }\r\n\r\n    isSorted(column: Column) {\r\n        if(!column.sortable) {\r\n            return false;\r\n        }\r\n        \r\n        let columnSortField = column.sortField||column.field;\r\n        \r\n        if(this.sortMode === 'single') {\r\n            return (this.sortField && columnSortField === this.sortField);\r\n        }\r\n        else if(this.sortMode === 'multiple') {\r\n            let sorted = false;\r\n            if(this.multiSortMeta){\r\n                for(let i = 0; i < this.multiSortMeta.length; i++) {\r\n                    if(this.multiSortMeta[i].field == columnSortField){\r\n                        sorted = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return sorted;\r\n        }\r\n    }\r\n\r\n    getSortOrder(column: Column) {\r\n        let order = 0;\r\n        let columnSortField = column.sortField||column.field;\r\n        \r\n        if(this.sortMode === 'single') {\r\n            if(this.sortField && columnSortField === this.sortField) {\r\n                order = this.sortOrder;\r\n            }\r\n        }\r\n        else if(this.sortMode === 'multiple') {\r\n            if(this.multiSortMeta){\r\n                for(let i = 0; i < this.multiSortMeta.length; i++) {\r\n                    if(this.multiSortMeta[i].field == columnSortField){\r\n                        order = this.multiSortMeta[i].order;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return order;\r\n    }\r\n    \r\n    onRowGroupClick(event) {\r\n        if(this.rowGroupToggleClick) {\r\n            this.rowGroupToggleClick = false;\r\n            return;\r\n        }\r\n        \r\n        if(this.sortableRowGroup) {\r\n            let targetNode = event.target.nodeName;\r\n            if((targetNode == 'TD'|| (targetNode == 'SPAN' &&!DomHandler.hasClass(event.target, 'ui-clickable')))) {\r\n                if(this.sortField != this.groupField) {\r\n                    this._sortField = this.groupField;\r\n                    this.sortSingle();\r\n                }\r\n                else {\r\n                    this._sortOrder = -1 * this.sortOrder;\r\n                    this.sortSingle();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    clearSelectionRange(event: MouseEvent) {\r\n        let rangeStart, rangeEnd;\r\n\r\n        if(this.rangeRowIndex > this.anchorRowIndex) {\r\n            rangeStart = this.anchorRowIndex;\r\n            rangeEnd = this.rangeRowIndex;\r\n        }\r\n        else if(this.rangeRowIndex < this.anchorRowIndex) {\r\n            rangeStart = this.rangeRowIndex;\r\n            rangeEnd = this.anchorRowIndex;\r\n        }\r\n        else {\r\n            rangeStart = this.rangeRowIndex;\r\n            rangeEnd = this.rangeRowIndex;\r\n        }\r\n        \r\n        for(let i = rangeStart; i <= rangeEnd; i++) {\r\n            let rangeRowData = this.dataToRender[i];\r\n            let selectionIndex = this.findIndexInSelection(rangeRowData);\r\n            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\r\n            let dataKeyValue: string = this.dataKey ? String(this.resolveFieldData(rangeRowData, this.dataKey)) : null;\r\n            if(dataKeyValue) {\r\n                delete this.selectionKeys[dataKeyValue];\r\n            }\r\n            this.onRowUnselect.emit({originalEvent: event, data: rangeRowData, type: 'row'});\r\n        }\r\n    }\r\n    \r\n    selectRange(event: MouseEvent, rowIndex: number) {\r\n        let rangeStart, rangeEnd;\r\n        \r\n        if(this.anchorRowIndex > rowIndex) {\r\n            rangeStart = rowIndex;\r\n            rangeEnd = this.anchorRowIndex;\r\n        }\r\n        else if(this.anchorRowIndex < rowIndex) {\r\n            rangeStart = this.anchorRowIndex;\r\n            rangeEnd = rowIndex;\r\n        }\r\n        else {\r\n            rangeStart = rowIndex;\r\n            rangeEnd = rowIndex;\r\n        }\r\n        \r\n        for(let i = rangeStart; i <= rangeEnd; i++) {\r\n            let rangeRowData = this.dataToRender[i];\r\n            this._selection = [...this.selection, rangeRowData];\r\n            this.selectionChange.emit(this.selection);\r\n            let dataKeyValue: string = this.dataKey ? String(this.resolveFieldData(rangeRowData, this.dataKey)) : null;\r\n            if(dataKeyValue) {\r\n                this.selectionKeys[dataKeyValue] = 1;\r\n            }\r\n            this.onRowSelect.emit({originalEvent: event, data: rangeRowData, type: 'row'});\r\n        }\r\n    }\r\n    \r\n    handleRowClick(event: MouseEvent, rowData: any, index: number) {\r\n        if(this.preventRowClickPropagation) {\r\n            this.preventRowClickPropagation = false;\r\n            return;\r\n        }\r\n        \r\n        let targetNode = (<HTMLElement> event.target).nodeName;\r\n        \r\n        if(targetNode == 'INPUT' || targetNode == 'BUTTON' || targetNode == 'A' || (DomHandler.hasClass(event.target, 'ui-clickable'))) {\r\n            return;\r\n        }\r\n        \r\n        this.onRowClick.next({originalEvent: event, data: rowData});\r\n        \r\n        if(this.selectionMode) {\r\n            if(this.isMultipleSelectionMode() && event.shiftKey && this.anchorRowIndex != null) {\r\n                DomHandler.clearSelection();\r\n                if(this.rangeRowIndex != null) {\r\n                    this.clearSelectionRange(event);\r\n                }\r\n                \r\n                this.rangeRowIndex = index;\r\n                this.selectRange(event, index);\r\n            }\r\n            else {\r\n                let selected = this.isSelected(rowData);\r\n                let metaSelection = this.rowTouched ? false : this.metaKeySelection;\r\n                let dataKeyValue: string = this.dataKey ? String(this.resolveFieldData(rowData, this.dataKey)) : null;\r\n                this.anchorRowIndex = index;\r\n                this.rangeRowIndex = index;\r\n                \r\n                if(metaSelection) {\r\n                    let metaKey = event.metaKey||event.ctrlKey;\r\n                    \r\n                    if(selected && metaKey) {\r\n                        if(this.isSingleSelectionMode()) {\r\n                            this._selection = null;\r\n                            this.selectionKeys = {};\r\n                            this.selectionChange.emit(null);\r\n                        }\r\n                        else {\r\n                            let selectionIndex = this.findIndexInSelection(rowData);\r\n                            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\r\n                            this.selectionChange.emit(this.selection);\r\n                            if(dataKeyValue) {\r\n                                delete this.selectionKeys[dataKeyValue];\r\n                            }\r\n                        }\r\n                        \r\n                        this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                    }\r\n                    else {\r\n                        if(this.isSingleSelectionMode()) {\r\n                            this._selection = rowData;\r\n                            this.selectionChange.emit(rowData);\r\n                            if(dataKeyValue) {\r\n                                this.selectionKeys = {};\r\n                                this.selectionKeys[dataKeyValue] = 1;\r\n                            }\r\n                        }\r\n                        else if(this.isMultipleSelectionMode()) {\r\n                            if(metaKey) {\r\n                                this._selection = this.selection||[];\r\n                            }\r\n                            else {\r\n                                this._selection = [];\r\n                                this.selectionKeys = {};\r\n                            }\r\n\r\n                            this._selection = [...this.selection,rowData];\r\n                            this.selectionChange.emit(this.selection);\r\n                            if(dataKeyValue) {\r\n                                this.selectionKeys[dataKeyValue] = 1;\r\n                            }\r\n                        }\r\n\r\n                        this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                    }\r\n                }\r\n                else {\r\n                    if(this.isSingleSelectionMode()) {\r\n                        if(selected) {\r\n                            this._selection = null;\r\n                            this.selectionKeys = {};\r\n                            this.selectionChange.emit(this.selection);\r\n                            this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                        }\r\n                        else {\r\n                            this._selection = rowData;\r\n                            this.selectionChange.emit(this.selection);\r\n                            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                            if(dataKeyValue) {\r\n                                this.selectionKeys = {};\r\n                                this.selectionKeys[dataKeyValue] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        if(selected) {\r\n                            let selectionIndex = this.findIndexInSelection(rowData);\r\n                            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\r\n                            this.selectionChange.emit(this.selection);\r\n                            this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                            if(dataKeyValue) {\r\n                                delete this.selectionKeys[dataKeyValue];\r\n                            }\r\n                        }\r\n                        else {\r\n                            this._selection = [...this.selection||[],rowData];\r\n                            this.selectionChange.emit(this.selection);\r\n                            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'row'});\r\n                            if(dataKeyValue) {\r\n                                this.selectionKeys[dataKeyValue] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            this.preventSelectionKeysPropagation = true;\r\n        }\r\n\r\n        this.rowTouched = false;\r\n    }\r\n\r\n    handleRowTouchEnd(event: Event) {\r\n        this.rowTouched = true;\r\n    }\r\n    \r\n    selectRowWithRadio(event: Event, rowData:any) {\r\n        if(this.selection != rowData) {\r\n            this._selection = rowData;\r\n            this.selectionChange.emit(this.selection);\r\n            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'radiobutton'});\r\n            \r\n            if(this.dataKey) {\r\n                this.selectionKeys = {};\r\n                this.selectionKeys[String(this.resolveFieldData(rowData, this.dataKey))] = 1;\r\n            }\r\n        }\r\n        else {\r\n            this._selection = null;\r\n            this.selectionChange.emit(this.selection);\r\n            this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'radiobutton'});\r\n        }\r\n        \r\n        this.preventSelectionKeysPropagation = true;\r\n        this.preventRowClickPropagation = true;\r\n    }\r\n    \r\n    toggleRowWithCheckbox(event, rowData: any) {\r\n        let selectionIndex = this.findIndexInSelection(rowData);\r\n        this.selection = this.selection||[];\r\n        let dataKeyValue: string = this.dataKey ? String(this.resolveFieldData(rowData, this.dataKey)) : null;\r\n        \r\n        if(selectionIndex != -1) {\r\n            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\r\n            this.selectionChange.emit(this.selection);\r\n            this.onRowUnselect.emit({originalEvent: event, data: rowData, type: 'checkbox'});\r\n            if(dataKeyValue) {\r\n                delete this.selectionKeys[dataKeyValue];\r\n            }\r\n        }\r\n        else {\r\n            this._selection = [...this.selection,rowData];\r\n            this.selectionChange.emit(this.selection);\r\n            this.onRowSelect.emit({originalEvent: event, data: rowData, type: 'checkbox'});\r\n            if(dataKeyValue) {\r\n                this.selectionKeys[dataKeyValue] = 1;\r\n            }\r\n        }\r\n        \r\n        this.preventSelectionKeysPropagation = true;\r\n        this.preventRowClickPropagation = true;\r\n    }\r\n    \r\n    toggleRowsWithCheckbox(event) {\r\n        if(event.checked)\r\n            this.selection = this.headerCheckboxToggleAllPages ? this.value.slice() : this.dataToRender.slice();\r\n        else\r\n            this.selection = [];\r\n            \r\n        this.selectionChange.emit(this.selection);\r\n        \r\n        this.onHeaderCheckboxToggle.emit({originalEvent: event, checked: event.checked});\r\n    }\r\n    \r\n    onRowRightClick(event, rowData) {\r\n        if(this.contextMenu) {\r\n            let selectionIndex = this.findIndexInSelection(rowData);\r\n            let selected = selectionIndex != -1;\r\n            let dataKeyValue: string = this.dataKey ? String(this.resolveFieldData(rowData, this.dataKey)) : null;\r\n            \r\n            if(!selected) {\r\n                if(this.isSingleSelectionMode()) {\r\n                    this.selection = rowData;\r\n                    this.selectionChange.emit(rowData);\r\n                }\r\n                else if(this.isMultipleSelectionMode()) {\r\n                    this.selection = [rowData];\r\n                    this.selectionChange.emit(this.selection);\r\n                }\r\n                \r\n                if(this.dataKey) {\r\n                    this.selectionKeys[String(this.resolveFieldData(rowData, this.dataKey))] = 1;\r\n                    this.preventSelectionKeysPropagation = true;\r\n                }\r\n            }\r\n\r\n            this.contextMenu.show(event);\r\n            this.onContextMenuSelect.emit({originalEvent: event, data: rowData});\r\n        }\r\n    }\r\n\r\n    rowDblclick(event, rowData) {\r\n        this.onRowDblclick.emit({originalEvent: event, data: rowData});\r\n    }\r\n\r\n    isSingleSelectionMode() {\r\n        return this.selectionMode === 'single';\r\n    }\r\n\r\n    isMultipleSelectionMode() {\r\n        return this.selectionMode === 'multiple';\r\n    }\r\n\r\n    findIndexInSelection(rowData: any) {\r\n        let index: number = -1;\r\n        if(this.selection) {\r\n            for(let i = 0; i  < this.selection.length; i++) {\r\n                if(this.equals(rowData, this.selection[i])) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    }\r\n\r\n    isSelected(rowData) {\r\n        if(rowData && this.selection) {\r\n            if(this.dataKey) {\r\n                return this.selectionKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined;\r\n            }\r\n            else {\r\n                if(this.selection instanceof Array)\r\n                    return this.findIndexInSelection(rowData) > -1;\r\n                else\r\n                    return this.equals(rowData, this.selection);\r\n            }\r\n        }\r\n        \r\n        return false;\r\n    }\r\n    \r\n    equals(data1, data2) {\r\n        return this.compareSelectionBy === 'equals' ? (data1 === data2) : ObjectUtils.equals(data1, data2, this.dataKey);\r\n    }\r\n    \r\n    get allSelected() {\r\n        if(this.headerCheckboxToggleAllPages) {\r\n            return this.selection && this.value && this.selection.length === this.value.length;\r\n        }\r\n        else {\r\n            let val = true;\r\n            if(this.dataToRender && this.selection && (this.dataToRender.length <= this.selection.length)) {\r\n                for(let data of this.dataToRender) {\r\n                    if(!this.isSelected(data)) {\r\n                        val = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                val = false;\r\n            }\r\n            return val;\r\n        }\r\n    }\r\n\r\n    onFilterKeyup(value, field, matchMode) {\r\n        if(this.filterTimeout) {\r\n            clearTimeout(this.filterTimeout);\r\n        }\r\n\r\n        this.filterTimeout = setTimeout(() => {\r\n            this.filter(value, field, matchMode);\r\n            this.filterTimeout = null;\r\n        }, this.filterDelay);\r\n    }\r\n    \r\n    filter(value, field, matchMode) {\r\n        if(!this.isFilterBlank(value))\r\n            this.filters[field] = {value: value, matchMode: matchMode};\r\n        else if(this.filters[field])\r\n            delete this.filters[field];\r\n        \r\n        this._filter();\r\n    }\r\n    \r\n    isFilterBlank(filter: any): boolean {\r\n        if(filter !== null && filter !== undefined) {\r\n            if((typeof filter === 'string' && filter.trim().length == 0) || (filter instanceof Array && filter.length == 0))\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _filter() {\r\n        this._first = 0;\r\n        \r\n        if(this.lazy) {\r\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n        }\r\n        else {\r\n            if(!this.value || !this.columns) {\r\n                return;\r\n            }\r\n            \r\n            this.filteredValue = [];\r\n\r\n            for(let i = 0; i < this.value.length; i++) {\r\n                let localMatch = true;\r\n                let globalMatch = false;\r\n\r\n                for(let j = 0; j < this.columns.length; j++) {\r\n                    let col = this.columns[j],\r\n                    filterMeta = this.filters[col.filterField||col.field];\r\n\r\n                    //local\r\n                    if(filterMeta) {\r\n                        let filterValue = filterMeta.value,\r\n                        filterField = col.filterField||col.field,\r\n                        filterMatchMode = filterMeta.matchMode||'startsWith',\r\n                        dataFieldValue = this.resolveFieldData(this.value[i], filterField);\r\n                        let filterConstraint = this.filterConstraints[filterMatchMode];\r\n\r\n                        if(!filterConstraint(dataFieldValue, filterValue)) {\r\n                            localMatch = false;\r\n                        }\r\n\r\n                        if(!localMatch) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    //global\r\n                    if(!col.excludeGlobalFilter && this.globalFilter && !globalMatch) {\r\n                        globalMatch = this.filterConstraints['contains'](this.resolveFieldData(this.value[i], col.filterField||col.field), this.globalFilter.value);\r\n                    }\r\n                }\r\n\r\n                let matches = localMatch;\r\n                if(this.globalFilter) {\r\n                    matches = localMatch&&globalMatch;\r\n                }\r\n\r\n                if(matches) {\r\n                    this.filteredValue.push(this.value[i]);\r\n                }\r\n            }\r\n\r\n            if(this.filteredValue.length === this.value.length) {\r\n                this.filteredValue = null;\r\n            }\r\n\r\n            if(this.paginator) {\r\n                this.totalRecords = this.filteredValue ? this.filteredValue.length: this.value ? this.value.length: 0;\r\n            }\r\n\r\n            this.updateDataToRender(this.filteredValue||this.value);\r\n        }\r\n        \r\n        this.onFilter.emit({\r\n            filters: this.filters,\r\n            filteredValue: this.filteredValue||this.value\r\n        });\r\n    }\r\n\r\n    hasFilter() {\r\n        let empty = true;\r\n        for(let prop in this.filters) {\r\n            if(this.filters.hasOwnProperty(prop)) {\r\n                empty = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return !empty || (this.globalFilter && this.globalFilter.value && this.globalFilter.value.trim().length);\r\n    }\r\n\r\n    onFilterInputClick(event) {\r\n        event.stopPropagation();\r\n    }\r\n\r\n    filterConstraints = {\r\n\r\n        startsWith(value, filter): boolean {\r\n            if(filter === undefined || filter === null || filter.trim() === '') {\r\n                return true;\r\n            }\r\n\r\n            if(value === undefined || value === null) {\r\n                return false;\r\n            }\r\n\r\n            let filterValue = filter.toLowerCase();\r\n            return value.toString().toLowerCase().slice(0, filterValue.length) === filterValue;\r\n        },\r\n\r\n        contains(value, filter): boolean {\r\n            if(filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\r\n                return true;\r\n            }\r\n\r\n            if(value === undefined || value === null) {\r\n                return false;\r\n            }\r\n            \r\n            return value.toString().toLowerCase().indexOf(filter.toLowerCase()) !== -1;\r\n        },\r\n\r\n        endsWith(value, filter): boolean {\r\n            if(filter === undefined || filter === null || filter.trim() === '') {\r\n                return true;\r\n            }\r\n\r\n            if(value === undefined || value === null) {\r\n                return false;\r\n            }\r\n\r\n            let filterValue = filter.toString().toLowerCase();\r\n            return value.toString().toLowerCase().indexOf(filterValue, value.toString().length - filterValue.length) !== -1;\r\n        },\r\n        \r\n        equals(value, filter): boolean {\r\n            if(filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\r\n                return true;\r\n            }\r\n            \r\n            if(value === undefined || value === null) {\r\n                return false;\r\n            }\r\n            \r\n            return value.toString().toLowerCase() == filter.toString().toLowerCase();\r\n        },\r\n\t\t\r\n        notEquals(value, filter): boolean {\r\n            if(filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\r\n                return false;\r\n            }\r\n            \r\n            if(value === undefined || value === null) {\r\n                return true;\r\n            }\r\n            \r\n            return value.toString().toLowerCase() != filter.toString().toLowerCase();\r\n        },\r\n        \r\n        in(value, filter: any[]): boolean {\r\n            if(filter === undefined || filter === null || filter.length === 0) {\r\n                return true;\r\n            }\r\n\r\n            if(value === undefined || value === null) {\r\n                return false;\r\n            }\r\n            \r\n            for(let i = 0; i < filter.length; i++) {\r\n                if(filter[i] === value)\r\n                    return true;\r\n            }\r\n            \r\n            return false;\r\n        }\r\n    }\r\n\r\n    switchCellToEditMode(cell: any, column: Column, rowData: any) {\r\n        if(!this.selectionMode && this.editable && column.editable) {\r\n            this.editorClick = true;\r\n            this.bindDocumentEditListener();\r\n            \r\n            if(cell != this.editingCell) {\r\n                if(this.editingCell && DomHandler.find(this.editingCell, '.ng-invalid.ng-dirty').length == 0) {\r\n                    DomHandler.removeClass(this.editingCell, 'ui-cell-editing');\r\n                }\r\n                \r\n                this.editingCell = cell;\r\n                this.onEditInit.emit({column: column, data: rowData});\r\n                DomHandler.addClass(cell, 'ui-cell-editing');\r\n                let focusable = DomHandler.findSingle(cell, '.ui-cell-editor input, .ui-cell-editor textarea');\r\n                if(focusable) {\r\n                    setTimeout(() => DomHandler.invokeElementMethod(focusable, 'focus'), 50);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    switchCellToViewMode(element: any) {\r\n        this.editingCell = null;\r\n        let cell = this.findCell(element);\r\n        DomHandler.removeClass(cell, 'ui-cell-editing');\r\n        this.unbindDocumentEditListener();\r\n    }\r\n    \r\n    closeCell() {\r\n        if(this.editingCell) {\r\n            DomHandler.removeClass(this.editingCell, 'ui-cell-editing');\r\n            this.editingCell = null;\r\n            this.unbindDocumentEditListener();\r\n        }\r\n    }\r\n    \r\n    bindDocumentEditListener() {\r\n        if(!this.documentEditListener) {\r\n            this.documentEditListener = this.renderer.listen('document', 'click', (event) => {\r\n                if(!this.editorClick && event.button !== 2) {\r\n                    this.closeCell();\r\n                }\r\n                this.editorClick = false;\r\n            });\r\n        }\r\n    }\r\n    \r\n    unbindDocumentEditListener() {\r\n        if(this.documentEditListener) {\r\n            this.documentEditListener();\r\n            this.documentEditListener = null;\r\n        }\r\n    }\r\n\r\n    onCellEditorKeydown(event, column: Column, rowData: any, rowIndex: number) {\r\n        if(this.editable) {\r\n            //enter\r\n            if(event.keyCode == 13) {\r\n                if(DomHandler.find(this.editingCell, '.ng-invalid.ng-dirty').length == 0) {\r\n                    this.switchCellToViewMode(event.target);\r\n                    event.preventDefault();\r\n                }\r\n            }\r\n            \r\n            //escape\r\n            else if(event.keyCode == 27) {\r\n                this.switchCellToViewMode(event.target);\r\n                event.preventDefault();\r\n            }\r\n            \r\n            //tab\r\n            else if(event.keyCode == 9) {\r\n                if(event.shiftKey)\r\n                    this.moveToPreviousCell(event);\r\n                else\r\n                    this.moveToNextCell(event);\r\n            }\r\n        }\r\n    }\r\n    \r\n    onCellEditorInput(event, column: Column, rowData: any, rowIndex: number) {\r\n        if(this.editable) {\r\n            this.onEdit.emit({originalEvent: event, column: column, data: rowData, index: rowIndex});\r\n        }\r\n    }\r\n    \r\n    onCellEditorChange(event, column: Column, rowData: any, rowIndex: number) {\r\n        if(this.editable) {\r\n            this.editChanged = true;\r\n            \r\n            this.onEditComplete.emit({column: column, data: rowData, index: rowIndex});\r\n        }\r\n    }\r\n    \r\n    onCellEditorBlur(event, column: Column, rowData: any, rowIndex: number) {\r\n        if(this.editable) {\r\n            if(this.editChanged)\r\n                this.editChanged = false;\r\n            else\r\n                this.onEditCancel.emit({column: column, data: rowData, index: rowIndex});\r\n        }\r\n    }\r\n    \r\n    moveToPreviousCell(event: KeyboardEvent) {\r\n        let currentCell = this.findCell(event.target);\r\n        let row = currentCell.parentElement;\r\n        let targetCell = this.findPreviousEditableColumn(currentCell);\r\n        \r\n        if(targetCell) {\r\n            DomHandler.invokeElementMethod(targetCell, 'click');\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    \r\n    moveToNextCell(event: KeyboardEvent) {\r\n        let currentCell = this.findCell(event.target);\r\n        let row = currentCell.parentElement;\r\n        let targetCell = this.findNextEditableColumn(currentCell);\r\n        \r\n        if(targetCell) {\r\n            DomHandler.invokeElementMethod(targetCell, 'click');\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    \r\n    findPreviousEditableColumn(cell: Element) {\r\n        let prevCell = cell.previousElementSibling;\r\n        \r\n        if(!prevCell) {\r\n            let previousRow = cell.parentElement.previousElementSibling;\r\n            if(previousRow) {\r\n                prevCell = previousRow.lastElementChild;\r\n            }\r\n        }\r\n        \r\n        if(prevCell) {\r\n            if(DomHandler.hasClass(prevCell, 'ui-editable-column'))\r\n                return prevCell;\r\n            else\r\n                return this.findPreviousEditableColumn(prevCell);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    findNextEditableColumn(cell: Element) {\r\n        let nextCell = cell.nextElementSibling;\r\n        \r\n        if(!nextCell) {\r\n            let nextRow = cell.parentElement.nextElementSibling;\r\n            if(nextRow) {\r\n                nextCell = nextRow.firstElementChild;\r\n            }\r\n        }\r\n        \r\n        if(nextCell) {\r\n            if(DomHandler.hasClass(nextCell, 'ui-editable-column'))\r\n                return nextCell;\r\n            else\r\n                return this.findNextEditableColumn(nextCell);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    onCustomEditorFocusPrev(event: KeyboardEvent) {\r\n        this.moveToPreviousCell(event);\r\n    }\r\n    \r\n    onCustomEditorFocusNext(event: KeyboardEvent) {\r\n        this.moveToNextCell(event);\r\n    }\r\n    \r\n    findCell(element) {\r\n        if(element) {\r\n            let cell = element;\r\n            while(cell && cell.tagName != 'TD') {\r\n                cell = cell.parentElement;\r\n            }\r\n\r\n            return cell;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    initResizableColumns() {\r\n        this.tbody = DomHandler.findSingle(this.el.nativeElement, 'tbody.ui-datatable-data');\r\n        this.resizerHelper = DomHandler.findSingle(this.el.nativeElement, 'div.ui-column-resizer-helper');\r\n        this.fixColumnWidths();\r\n    }\r\n    \r\n    onDocumentMouseMove(event) {\r\n        if(this.columnResizing) {\r\n            this.onColumnResize(event);\r\n        }\r\n    }\r\n    \r\n    onDocumentMouseUp(event) {\r\n        if(this.columnResizing) {\r\n            this.columnResizing = false;\r\n            this.onColumnResizeEnd(event);\r\n        }\r\n    }\r\n    \r\n    bindColumnResizeEvents() {\r\n        this.zone.runOutsideAngular(() => {\r\n            window.document.addEventListener('mousemove', this.onDocumentMouseMove.bind(this));\r\n        });\r\n        \r\n        this.documentColumnResizeEndListener = this.renderer.listen('document', 'mouseup', (event) => {\r\n            if(this.columnResizing) {\r\n                this.columnResizing = false;\r\n                this.onColumnResizeEnd(event);\r\n            }\r\n        });\r\n    }\r\n    \r\n    unbindColumnResizeEvents() {\r\n        window.document.removeEventListener('mousemove', this.onDocumentMouseMove);\r\n        \r\n        if(this.documentColumnResizeEndListener) {\r\n            this.documentColumnResizeEndListener();\r\n            this.documentColumnResizeEndListener = null;\r\n        }\r\n    }\r\n    \r\n    initColumnResize(event) {\r\n        this.bindColumnResizeEvents();\r\n        \r\n        let container = this.el.nativeElement.children[0];\r\n        let containerLeft = DomHandler.getOffset(container).left;\r\n        this.resizeColumn = event.target.parentElement;\r\n        this.columnResizing = true;\r\n        this.lastResizerHelperX = (event.pageX - containerLeft + container.scrollLeft);\r\n    }\r\n    \r\n    onColumnResize(event) {\r\n        let container = this.el.nativeElement.children[0];\r\n        let containerLeft = DomHandler.getOffset(container).left;\r\n        DomHandler.addClass(container, 'ui-unselectable-text');\r\n        this.resizerHelper.style.height = container.offsetHeight + 'px';\r\n        this.resizerHelper.style.top = 0 + 'px';\r\n        this.resizerHelper.style.left = (event.pageX - containerLeft + container.scrollLeft) + 'px';\r\n        \r\n        this.resizerHelper.style.display = 'block';\r\n    }\r\n    \r\n    onColumnResizeEnd(event) {\r\n        let delta = this.resizerHelper.offsetLeft - this.lastResizerHelperX;\r\n        let columnWidth = this.resizeColumn.offsetWidth;\r\n        let newColumnWidth = columnWidth + delta;\r\n        let minWidth = this.resizeColumn.style.minWidth||15;\r\n\r\n        if(columnWidth + delta > parseInt(minWidth)) {\r\n            if(this.columnResizeMode === 'fit') {\r\n                let nextColumn = this.resizeColumn.nextElementSibling;\r\n                while (DomHandler.hasClass(nextColumn, 'ui-helper-hidden')) {\r\n                    nextColumn = nextColumn.nextElementSibling;\r\n                }\r\n\r\n                if(nextColumn) {\r\n                    let nextColumnWidth = nextColumn.offsetWidth - delta;\r\n                    let nextColumnMinWidth = nextColumn.style.minWidth || 15;\r\n\r\n                    if (newColumnWidth > 15 && nextColumnWidth > parseInt(nextColumnMinWidth)) {\r\n                        this.resizeColumn.style.width = newColumnWidth + 'px';\r\n                        if (nextColumn) {\r\n                            nextColumn.style.width = nextColumnWidth + 'px';\r\n                        }\r\n\r\n                        if (this.scrollable) {\r\n                            let colGroup = DomHandler.findSingle(this.el.nativeElement, 'colgroup.ui-datatable-scrollable-colgroup');\r\n                            let resizeColumnIndex = DomHandler.index(this.resizeColumn);\r\n                            colGroup.children[resizeColumnIndex].style.width = newColumnWidth + 'px';\r\n\r\n                            if (nextColumn) {\r\n                                colGroup.children[resizeColumnIndex + 1].style.width = nextColumnWidth + 'px';\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if(this.columnResizeMode === 'expand') {\r\n                this.tbody.parentElement.style.width = this.tbody.parentElement.offsetWidth + delta + 'px';\r\n                this.resizeColumn.style.width = newColumnWidth + 'px';\r\n                let containerWidth = this.tbody.parentElement.style.width;\r\n                \r\n                if(this.scrollable) {\r\n                    DomHandler.findSingle(this.el.nativeElement, '.ui-datatable-scrollable-header-box').children[0].style.width = containerWidth;\r\n                    let colGroup = DomHandler.findSingle(this.el.nativeElement, 'colgroup.ui-datatable-scrollable-colgroup');\r\n                    let resizeColumnIndex = DomHandler.index(this.resizeColumn);\r\n                    colGroup.children[resizeColumnIndex].style.width = newColumnWidth + 'px';\r\n                }\r\n                else {\r\n                    this.el.nativeElement.children[0].style.width = containerWidth;\r\n                }\r\n            }\r\n            \r\n            this.onColResize.emit({\r\n                element: this.resizeColumn,\r\n                delta: delta\r\n            });\r\n        }\r\n        \r\n        this.resizerHelper.style.display = 'none';\r\n        this.resizeColumn = null;\r\n        DomHandler.removeClass(this.el.nativeElement.children[0], 'ui-unselectable-text');\r\n        this.unbindColumnResizeEvents();\r\n    }\r\n    \r\n    fixColumnWidths() {\r\n        let columns = DomHandler.find(this.el.nativeElement, 'th.ui-resizable-column');\r\n        let bodyCols;\r\n        \r\n        for(let i = 0; i < columns.length; i++) {\r\n            columns[i].style.width = columns[i].offsetWidth + 'px';\r\n        }\r\n        \r\n        if(this.scrollable) {\r\n            let colGroup = DomHandler.findSingle(this.el.nativeElement, 'colgroup.ui-datatable-scrollable-colgroup');\r\n            bodyCols = colGroup.children;\r\n            \r\n            if(bodyCols) {\r\n                for (let i = 0; i < bodyCols.length; i++) {\r\n                    bodyCols[i].style.width = columns[i].offsetWidth + 'px';\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    onColumnDragStart(event) {\r\n        if (this.columnResizing) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        this.draggedColumn = this.findParentHeader(event.target);\r\n        event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\r\n        this.zone.runOutsideAngular(() => {\r\n            window.document.addEventListener('dragover', this.onColumnDragover.bind(this));\r\n        });\r\n    }\r\n    \r\n    onColumnDragover(event) {\r\n        let dropHeader = this.findParentHeader(event.target);\r\n        if(this.reorderableColumns && this.draggedColumn && dropHeader) {\r\n            event.preventDefault();\r\n            let container = this.el.nativeElement.children[0];\r\n            let containerOffset = DomHandler.getOffset(container);\r\n            let dropHeaderOffset = DomHandler.getOffset(dropHeader);\r\n            \r\n            if(this.draggedColumn != dropHeader) {\r\n                let targetLeft =  dropHeaderOffset.left - containerOffset.left;\r\n                let targetTop =  containerOffset.top - dropHeaderOffset.top;\r\n                let columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\r\n                \r\n                this.reorderIndicatorUp.style.top = dropHeaderOffset.top - containerOffset.top - (this.iconHeight - 1) + 'px';\r\n                this.reorderIndicatorDown.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\r\n\r\n                if(event.pageX > columnCenter) {\r\n                    this.reorderIndicatorUp.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2)) + 'px';\r\n                    this.reorderIndicatorDown.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2))+ 'px';\r\n                    this.dropPosition = 1;\r\n                }\r\n                else {\r\n                    this.reorderIndicatorUp.style.left = (targetLeft - Math.ceil(this.iconWidth / 2)) + 'px';\r\n                    this.reorderIndicatorDown.style.left = (targetLeft - Math.ceil(this.iconWidth / 2))+ 'px';\r\n                    this.dropPosition = -1;\r\n                }\r\n                \r\n                this.reorderIndicatorUp.style.display = 'block';\r\n                this.reorderIndicatorDown.style.display = 'block';\r\n            }\r\n            else {\r\n                event.dataTransfer.dropEffect = 'none';\r\n            }\r\n        }\r\n    }\r\n    \r\n    onColumnDragleave(event) {\r\n        if(this.reorderableColumns && this.draggedColumn) {\r\n            event.preventDefault();\r\n            this.reorderIndicatorUp.style.display = 'none';\r\n            this.reorderIndicatorDown.style.display = 'none';\r\n            window.document.removeEventListener('dragover', this.onColumnDragover);\r\n        }\r\n    }\r\n    \r\n    onColumnDrop(event) {\r\n        event.preventDefault();\r\n        if(this.draggedColumn) {\r\n            let dragIndex = DomHandler.index(this.draggedColumn);\r\n            let dropIndex = DomHandler.index(this.findParentHeader(event.target));\r\n            let allowDrop = (dragIndex != dropIndex);\r\n            if(allowDrop && ((dropIndex - dragIndex == 1 && this.dropPosition === -1) || (dragIndex - dropIndex == 1 && this.dropPosition === 1))) {\r\n                allowDrop = false;\r\n            }\r\n        \r\n            if(allowDrop) {\r\n                ObjectUtils.reorderArray(this.columns, dragIndex, dropIndex);\r\n                if(this.scrollable) {\r\n                    this.initScrollableColumns();\r\n                }\r\n\r\n                this.onColReorder.emit({\r\n                    dragIndex: dragIndex,\r\n                    dropIndex: dropIndex,\r\n                    columns: this.columns\r\n                });\r\n            }\r\n            \r\n            this.reorderIndicatorUp.style.display = 'none';\r\n            this.reorderIndicatorDown.style.display = 'none';\r\n            this.draggedColumn.draggable = false;\r\n            this.draggedColumn = null;\r\n            this.dropPosition = null;\r\n        }\r\n    }\r\n\r\n    initColumnReordering() {\r\n        this.reorderIndicatorUp = DomHandler.findSingle(this.el.nativeElement.children[0], 'span.ui-datatable-reorder-indicator-up');\r\n        this.reorderIndicatorDown = DomHandler.findSingle(this.el.nativeElement.children[0], 'span.ui-datatable-reorder-indicator-down');\r\n        this.iconWidth = DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUp);\r\n        this.iconHeight = DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorUp);\r\n    }\r\n    \r\n    findParentHeader(element) {\r\n        if(element.nodeName == 'TH') {\r\n            return element;\r\n        }\r\n        else {\r\n            let parent = element.parentElement;\r\n            while(parent.nodeName != 'TH') {\r\n                parent = parent.parentElement;\r\n                if(!parent) break;\r\n            }\r\n            return parent;\r\n        }\r\n    }\r\n    \r\n    hasFooter() {\r\n        if(this.footerColumnGroups && this.footerColumnGroups.first) {\r\n            return true;\r\n        }\r\n        else {\r\n            if(this.columns){\r\n                for(let i = 0; i  < this.columns.length; i++) {\r\n                    if(this.columns[i].footer || this.columns[i].footerTemplate) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isEmpty() {\r\n        return !this.dataToRender||(this.dataToRender.length == 0);\r\n    }\r\n\r\n    createLazyLoadMetadata(): LazyLoadEvent {\r\n        return {\r\n            first: this.first,\r\n            rows: this.virtualScroll ? this.rows * 2 : this.rows,\r\n            sortField: this.sortField,\r\n            sortOrder: this.sortOrder,\r\n            filters: this.filters,\r\n            globalFilter: this.globalFilter ? this.globalFilter.value : null,\r\n            multiSortMeta: this.multiSortMeta\r\n        };\r\n    }\r\n    \r\n    toggleRow(row: any, event?: Event) {\r\n        if(!this.expandedRows) {\r\n            this.expandedRows = [];\r\n        }\r\n        \r\n        let expandedRowIndex = this.findExpandedRowIndex(row);\r\n        \r\n        if(expandedRowIndex != -1) {\r\n            this.expandedRows.splice(expandedRowIndex, 1);\r\n            this.onRowCollapse.emit({\r\n                originalEvent: event,\r\n                data: row\r\n            });\r\n        }\r\n        else {\r\n            if(this.rowExpandMode === 'single') {\r\n                this.expandedRows = [];\r\n            }\r\n            \r\n            this.expandedRows.push(row);\r\n            this.onRowExpand.emit({\r\n                originalEvent: event,\r\n                data: row\r\n            });\r\n        }\r\n        \r\n        if(event) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    \r\n    findExpandedRowIndex(row: any): number {\r\n        let index = -1;\r\n        if(this.expandedRows) {\r\n            for(let i = 0; i < this.expandedRows.length; i++) {\r\n                if(this.expandedRows[i] == row) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n    \r\n    isRowExpanded(row: any): boolean {\r\n        return this.findExpandedRowIndex(row) != -1;\r\n    }\r\n    \r\n    findExpandedRowGroupIndex(row: any): number {\r\n        let index = -1;\r\n        if(this.expandedRowsGroups && this.expandedRowsGroups.length) {\r\n            for(let i = 0; i < this.expandedRowsGroups.length; i++) {\r\n                let group = this.expandedRowsGroups[i];\r\n                let rowGroupField = this.resolveFieldData(row, this.groupField);\r\n                if(rowGroupField === group) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n    \r\n    isRowGroupExpanded(row: any): boolean {\r\n        return this.findExpandedRowGroupIndex(row) != -1;\r\n    }\r\n    \r\n    toggleRowGroup(event: Event, row: any): void {\r\n  \r\n        if(!this.expandedRowsGroups) {\r\n          this.expandedRowsGroups = [];\r\n        }\r\n        \r\n        this.rowGroupToggleClick = true;\r\n        let index = this.findExpandedRowGroupIndex(row);\r\n        let rowGroupField = this.resolveFieldData(row, this.groupField);\r\n        if(index >= 0) {\r\n            this.expandedRowsGroups.splice(index, 1);\r\n            this.onRowGroupCollapse.emit({\r\n                originalEvent: event,\r\n                group: rowGroupField\r\n            });\r\n        }\r\n        else {\r\n  \r\n            if(this.rowGroupExpandMode === 'single') {\r\n              this.expandedRowsGroups = [];\r\n            }\r\n            \r\n            this.expandedRowsGroups.push(rowGroupField);\r\n            this.onRowGroupExpand.emit({\r\n                originalEvent: event,\r\n                group: rowGroupField\r\n            });\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    \r\n    public reset() {\r\n        this._sortField = null;\r\n        this._sortOrder = 1;\r\n        \r\n        this.filteredValue = null;\r\n        this.filters = {};\r\n        \r\n        this._first = 0;\r\n        this.firstChange.emit(this._first);\r\n        this.updateTotalRecords();\r\n        \r\n        if(this.lazy)\r\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\r\n        else\r\n            this.updateDataToRender(this.value);\r\n    }\r\n    \r\n    public exportCSV(options?:any) {\r\n        let data = this.filteredValue||this.value;\r\n        let csv = '\\ufeff';\r\n        \r\n        if(options && options.selectionOnly) {\r\n            data = this.selection||[];\r\n        }\r\n        \r\n        //headers\r\n        for(let i = 0; i < this.columns.length; i++) {\r\n            let column = this.columns[i];\r\n            if(column.exportable && column.field) {\r\n                csv += '\"' + (column.header || column.field) + '\"';\r\n                \r\n                if(i < (this.columns.length - 1)) {\r\n                    csv += this.csvSeparator;\r\n                }\r\n            }\r\n        }\r\n        \r\n        //body\r\n        data.forEach((record, i) => {\r\n            csv += '\\n';\r\n            for(let i = 0; i < this.columns.length; i++) {\r\n                let column = this.columns[i];\r\n                if(column.exportable && column.field) {\r\n                    let cellData = this.resolveFieldData(record, column.field);\r\n                    \r\n                    if(cellData != null)\r\n                        cellData = String(cellData).replace(/\"/g, '\"\"');\r\n                    else\r\n                        cellData = '';\r\n                        \r\n                     csv += '\"' + cellData + '\"';\r\n                    \r\n                    if(i < (this.columns.length - 1)) {\r\n                        csv += this.csvSeparator;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        \r\n        let blob = new Blob([csv],{\r\n            type: 'text/csv;charset=utf-8;'\r\n        });\r\n        \r\n        if(window.navigator.msSaveOrOpenBlob) {\r\n            navigator.msSaveOrOpenBlob(blob, this.exportFilename + '.csv');\r\n        }\r\n        else {\r\n            let link = document.createElement(\"a\");\r\n            link.style.display = 'none';\r\n            document.body.appendChild(link);\r\n            if(link.download !== undefined) {\r\n                link.setAttribute('href', URL.createObjectURL(blob));\r\n                link.setAttribute('download', this.exportFilename + '.csv');\r\n                link.click();\r\n            }\r\n            else {\r\n                csv = 'data:text/csv;charset=utf-8,' + csv;\r\n                window.open(encodeURI(csv));\r\n            }\r\n            document.body.removeChild(link);\r\n        }\r\n    }\r\n    \r\n    getBlockableElement(): HTMLElement{\r\n        return this.el.nativeElement.children[0];\r\n    }\r\n    \r\n    getRowStyleClass(rowData: any, rowIndex: number) {\r\n        let styleClass = 'ui-widget-content';\r\n        if(this.rowStyleClass) {\r\n            let rowClass = this.rowStyleClass.call(this, rowData, rowIndex);\r\n            if(rowClass) {\r\n                styleClass += ' ' + rowClass;\r\n            }\r\n        }\r\n        else if (this.rowStyleMap && this.dataKey) {\r\n            let rowClass = this.rowStyleMap[rowData[this.dataKey]];\r\n            if (rowClass) {\r\n                styleClass += ' ' + rowClass;\r\n            }\r\n        }\r\n        \r\n        return styleClass;\r\n    }\r\n    \r\n    visibleColumns() {\r\n        return this.columns ? this.columns.filter(c => !c.hidden): [];\r\n    }\r\n    \r\n    get containerWidth() {\r\n        if(this.scrollable) {\r\n            if(this.scrollWidth) {\r\n                return this.scrollWidth;\r\n            }\r\n            else if(this.frozenWidth && this.unfrozenWidth) {\r\n                return parseFloat(this.frozenWidth) + parseFloat(this.unfrozenWidth) + 'px';\r\n            }\r\n        }\r\n        else {\r\n            return this.style ? this.style.width : null;\r\n        }\r\n    }\r\n    \r\n    hasFrozenColumns() {\r\n        return this.frozenColumns && this.frozenColumns.length > 0;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        //remove event listener\r\n        if(this.globalFilterFunction) {\r\n            this.globalFilterFunction();\r\n        }\r\n        \r\n        if(this.resizableColumns) {\r\n            this.unbindColumnResizeEvents();\r\n        }\r\n        \r\n        this.unbindDocumentEditListener();\r\n        \r\n        if(this.columnsSubscription) {\r\n            this.columnsSubscription.unsubscribe();\r\n        }\r\n        \r\n        if(this.virtualScrollCallback) {\r\n            this.virtualScrollCallback = null;\r\n        }\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule,SharedModule,PaginatorModule,FormsModule],\r\n    exports: [DataTable,SharedModule],\r\n    declarations: [DataTable,DTRadioButton,DTCheckbox,ColumnHeaders,ColumnFooters,TableBody,ScrollableView]\r\n})\r\nexport class DataTableModule { }\r\n"],"sourceRoot":""}